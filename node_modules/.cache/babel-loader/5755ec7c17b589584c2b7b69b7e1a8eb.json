{"ast":null,"code":"import { watch as e, inject as t, computed as n, unref as o, watchEffect as r, defineComponent as i, shallowRef as a, toRefs as u, onMounted as c, onUnmounted as s, h as l, Vue2 as p, nextTick as v } from \"vue-demi\";\nimport { throttle as f, init as d } from \"echarts/core\";\nimport { addListener as g, removeListener as h } from \"resize-detector\";\n\nvar O = function () {\n  return (O = Object.assign || function (e) {\n    for (var t, n = 1, o = arguments.length; n < o; n++) for (var r in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n\n    return e;\n  }).apply(this, arguments);\n},\n    m = [\"getWidth\", \"getHeight\", \"getDom\", \"getOption\", \"resize\", \"dispatchAction\", \"convertToPixel\", \"convertFromPixel\", \"containPixel\", \"getDataURL\", \"getConnectedDataURL\", \"appendData\", \"clear\", \"isDisposed\", \"dispose\"];\n\nfunction b(e) {\n  return t = Object.create(null), m.forEach(function (n) {\n    t[n] = function (t) {\n      return function () {\n        for (var n = [], o = 0; o < arguments.length; o++) n[o] = arguments[o];\n\n        if (!e.value) throw new Error(\"ECharts is not initialized yet.\");\n        return e.value[t].apply(e.value, n);\n      };\n    }(n);\n  }), t;\n  var t;\n}\n\nvar y = {\n  autoresize: Boolean\n},\n    x = \"ecLoadingOptions\";\nvar j = {\n  loading: Boolean,\n  loadingOptions: Object\n},\n    E = [],\n    z = [];\n!function (e, t) {\n  if (e && \"undefined\" != typeof document) {\n    var n,\n        o = !0 === t.prepend ? \"prepend\" : \"append\",\n        r = !0 === t.singleTag,\n        i = \"string\" == typeof t.container ? document.querySelector(t.container) : document.getElementsByTagName(\"head\")[0];\n\n    if (r) {\n      var a = E.indexOf(i);\n      -1 === a && (a = E.push(i) - 1, z[a] = {}), n = z[a] && z[a][o] ? z[a][o] : z[a][o] = u();\n    } else n = u();\n\n    65279 === e.charCodeAt(0) && (e = e.substring(1)), n.styleSheet ? n.styleSheet.cssText += e : n.appendChild(document.createTextNode(e));\n  }\n\n  function u() {\n    var e = document.createElement(\"style\");\n    if (e.setAttribute(\"type\", \"text/css\"), t.attributes) for (var n = Object.keys(t.attributes), r = 0; r < n.length; r++) e.setAttribute(n[r], t.attributes[n[r]]);\n    var a = \"prepend\" === o ? \"afterbegin\" : \"beforeend\";\n    return i.insertAdjacentElement(a, e), e;\n  }\n}(\"x-vue-echarts{display:block;width:100%;height:100%}\", {});\n\nvar A = /^on[^a-z]/,\n    L = function (e) {\n  return A.test(e);\n};\n\np && p.config.ignoredElements.push(\"x-vue-echarts\");\nvar w = \"ecTheme\",\n    C = \"ecInitOptions\",\n    T = \"ecUpdateOptions\",\n    U = i({\n  name: \"echarts\",\n  props: O(O({\n    option: Object,\n    theme: {\n      type: [Object, String]\n    },\n    initOptions: Object,\n    updateOptions: Object,\n    group: String,\n    manualUpdate: Boolean\n  }, y), j),\n  inheritAttrs: !1,\n  setup: function (i, l) {\n    var p = l.attrs,\n        m = l.listeners,\n        y = a(),\n        x = a(),\n        j = a(),\n        E = t(\"ecTheme\", null),\n        z = t(\"ecInitOptions\", null),\n        A = t(\"ecUpdateOptions\", null),\n        w = u(i),\n        C = w.autoresize,\n        T = w.manualUpdate,\n        U = w.loading,\n        D = w.loadingOptions,\n        S = n(function () {\n      return j.value || i.option || null;\n    }),\n        k = n(function () {\n      return i.theme || o(E) || {};\n    }),\n        B = n(function () {\n      return i.initOptions || o(z) || {};\n    }),\n        P = n(function () {\n      return i.updateOptions || o(A) || {};\n    }),\n        I = n(function () {\n      return function (e) {\n        var t = {};\n\n        for (var n in e) L(n) || (t[n] = e[n]);\n\n        return t;\n      }(p);\n    });\n\n    function N(e) {\n      if (y.value) {\n        var t = x.value = d(y.value, k.value, B.value);\n        i.group && (t.group = i.group);\n        var n = m;\n        n || (n = {}, Object.keys(p).filter(function (e) {\n          return 0 === e.indexOf(\"on\") && e.length > 2;\n        }).forEach(function (e) {\n          var t = e.charAt(2).toLowerCase() + e.slice(3);\n          n[t] = p[e];\n        })), Object.keys(n).forEach(function (e) {\n          var o = n[e];\n          o && (0 === e.indexOf(\"zr:\") ? t.getZr().on(e.slice(3).toLowerCase(), o) : t.on(e.toLowerCase(), o));\n        }), C.value ? v(function () {\n          t && !t.isDisposed() && t.resize(), o();\n        }) : o();\n      }\n\n      function o() {\n        var n = e || S.value;\n        n && t.setOption(n, P.value);\n      }\n    }\n\n    function R() {\n      x.value && (x.value.dispose(), x.value = void 0);\n    }\n\n    var q = null;\n    e(T, function (t) {\n      \"function\" == typeof q && (q(), q = null), t || (q = e(function () {\n        return i.option;\n      }, function (e, t) {\n        e && (x.value ? x.value.setOption(e, O({\n          notMerge: e.value !== (null == t ? void 0 : t.value)\n        }, P.value)) : N());\n      }, {\n        deep: !0\n      }));\n    }, {\n      immediate: !0\n    }), e([k, B], function () {\n      R(), N();\n    }, {\n      deep: !0\n    }), r(function () {\n      i.group && x.value && (x.value.group = i.group);\n    });\n    var F = b(x);\n    return function (e, i, a) {\n      var u = t(\"ecLoadingOptions\", {}),\n          c = n(function () {\n        return O(O({}, o(u)), null == a ? void 0 : a.value);\n      });\n      r(function () {\n        var t = e.value;\n        t && (i.value ? t.showLoading(c.value) : t.hideLoading());\n      });\n    }(x, U, D), function (t, n, o) {\n      var r = null;\n      e([o, t, n], function (e, t, n) {\n        var o = e[0],\n            i = e[1],\n            a = e[2];\n        o && i && a && (r = f(function () {\n          i.resize();\n        }, 100), g(o, r)), n(function () {\n          r && o && h(o, r);\n        });\n      });\n    }(x, C, y), c(function () {\n      N();\n    }), s(R), O({\n      chart: x,\n      root: y,\n      setOption: function (e, t) {\n        i.manualUpdate && (j.value = e), x.value ? x.value.setOption(e, t || {}) : N(e);\n      },\n      nonEventAttrs: I\n    }, F);\n  },\n  render: function () {\n    var e = O({}, this.nonEventAttrs);\n    return e.ref = \"root\", e.class = e.class ? [\"echarts\"].concat(e.class) : \"echarts\", l(\"x-vue-echarts\", e);\n  }\n});\nexport default U;\nexport { C as INIT_OPTIONS_KEY, x as LOADING_OPTIONS_KEY, w as THEME_KEY, T as UPDATE_OPTIONS_KEY };","map":null,"metadata":{},"sourceType":"module"}