{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BCard, BCardTitle, BCardFooter, BButton, BProgressBar, BProgress, BBadge, BTooltip, BRow, BCol, VBModal, VBTooltip } from 'bootstrap-vue';\nimport Ripple from 'vue-ripple-directive';\nimport { percent, tokenFormatter } from '@/libs/utils';\nimport dayjs from 'dayjs';\nimport OperationModal from '@/views/components/OperationModal/index.vue';\nexport default {\n  components: {\n    BCard,\n    BButton,\n    BCardFooter,\n    BProgressBar,\n    BProgress,\n    BBadge,\n    BCardTitle,\n    BTooltip,\n    BRow,\n    BCol,\n    OperationModal\n  },\n  directives: {\n    'b-modal': VBModal,\n    'b-tooltip': VBTooltip,\n    Ripple\n  },\n  props: {\n    p: {\n      type: Object,\n      default: () => ({})\n    },\n    totalPower: {\n      type: Number,\n      default: 0\n    },\n    tallyParam: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    scaleWidth(p) {\n      if (this.tallyParam) {\n        if (p.status === 2) {\n          return Number(this.tallyParam.quorum) * Number(this.tallyParam.threshold) * (1 - p.tally.abstain) * 100;\n        }\n\n        return Number(this.tallyParam.threshold) * (1 - p.tally.abstain) * 100;\n      }\n\n      return 50;\n    },\n\n    selectProposal(modal, pid, title) {\n      this.$parent.operationModalType = modal;\n      this.$parent.selectedProposalId = Number(pid);\n      this.$parent.selectedTitle = title;\n    },\n\n    formatType(v) {\n      const txt = String(v).replace('Proposal', '');\n      const index = txt.lastIndexOf('.');\n      return index > 0 ? txt.substring(index + 1) : txt;\n    },\n\n    percent: v => percent(v),\n    formatDate: v => dayjs(v).format('YYYY-MM-DD'),\n    formatToken: v => tokenFormatter(v, {})\n  }\n};","map":null,"metadata":{},"sourceType":"module"}