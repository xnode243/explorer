{"ast":null,"code":"import compareVersions from 'compare-versions';\nimport Token from './token';\nexport default class StdTx {\n  constructor() {\n    this.type = '';\n    this.fee = [new Token()];\n    this.gas = 0;\n    this.memo = '';\n    this.messages = null;\n    this.signatures = [];\n    this.timeout_height = 0;\n  }\n\n  static create(element, version = '0.40') {\n    const self = new StdTx();\n\n    if (compareVersions(version, '0.40') < 1) {\n      self.type = element.type;\n      self.fee = element.value.fee.amount;\n      self.gas = element.value.fee.gas;\n      self.memo = element.value.memo;\n      self.messages = element.value.msg;\n      self.signatures = element.value.signatures;\n      self.timeout_height = 0;\n    } else {\n      self.type = element['@type'];\n      self.fee = element.auth_info.fee.amount;\n      self.gas = element.auth_info.fee.gas_limit;\n      self.memo = element.body.memo;\n      self.messages = element.body.messages;\n      self.signatures = element.signatures;\n      self.timeout_height = element.body.timeout_height;\n    }\n\n    return self;\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}