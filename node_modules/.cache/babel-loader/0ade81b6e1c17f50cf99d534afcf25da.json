{"ast":null,"code":"import _asyncToGenerator from \"/root/explorer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/root/explorer/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/root/explorer/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport _fetch from 'node-fetch'; // import axios from 'axios'\n\nimport store from '@/store';\nimport compareVersions from 'compare-versions';\nimport { TxRaw } from 'cosmjs-types/cosmos/tx/v1beta1/tx';\nimport { fromHex, toBase64 } from '@cosmjs/encoding';\nimport { Proposal, ProposalTally, Proposer, StakingPool, Votes, Deposit, Validator, StakingParameters, Block, ValidatorDistribution, StakingDelegation, WrapStdTx, getUserCurrency } from './utils';\nimport OsmosAPI from './osmos';\n\nfunction commonProcess(res) {\n  if (res && Object.keys(res).includes('result')) {\n    return res.result;\n  }\n\n  return res;\n} // 头像\n\n\nexport function keybase(identity) {\n  return _fetch(\"https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=\".concat(identity, \"&fields=pictures\")).then(function (res) {\n    return res.json();\n  });\n}\n\nvar ChainFetch = /*#__PURE__*/function () {\n  function ChainFetch() {\n    _classCallCheck(this, ChainFetch);\n\n    this.osmosis = new OsmosAPI();\n    this.EndpointVersion = {\n      certik: 'v1alpha1'\n    };\n  }\n\n  _createClass(ChainFetch, [{\n    key: \"getEndpointVersion\",\n    value: function getEndpointVersion() {\n      return this.EndpointVersion[this.config.chain_name] || 'v1beta1';\n    }\n  }, {\n    key: \"getSelectedConfig\",\n    value: function getSelectedConfig() {\n      var chain = store.state.chains.selected;\n      var lschains = localStorage.getItem('chains');\n\n      if (lschains) {\n        var _chain;\n\n        chain = JSON.parse(lschains)[((_chain = chain) === null || _chain === void 0 ? void 0 : _chain.chain_name) || 'cosmos'];\n      }\n\n      if (!chain.sdk_version) {\n        chain.sdk_version = '0.33';\n      }\n\n      this.config = chain;\n      return this.config;\n    }\n  }, {\n    key: \"isModuleLoaded\",\n    value: function isModuleLoaded(name) {\n      if (this.config.unload_module) {\n        return !this.config.unload_module.includes(name);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"getNodeInfo\",\n    value: function () {\n      var _getNodeInfo = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.get('/cosmos/base/tendermint/v1beta1/node_info'));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getNodeInfo() {\n        return _getNodeInfo.apply(this, arguments);\n      }\n\n      return getNodeInfo;\n    }()\n  }, {\n    key: \"getLatestBlock\",\n    value: function () {\n      var _getLatestBlock = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var config,\n            conf,\n            ver,\n            _args2 = arguments;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                config = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : null;\n                conf = config || this.getSelectedConfig();\n                ver = conf.sdk_version || '0.41';\n\n                if (!(ver && compareVersions(ver, '0.45') < 1)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", this.get('/blocks/latest', config).then(function (data) {\n                  return Block.create(data);\n                }).then(function (block) {\n                  block.block.last_commit.signatures.map(function (s1) {\n                    var s = s1;\n                    s.validator_address = toBase64(fromHex(s.validator_address));\n                    return s;\n                  });\n                  return block;\n                }));\n\n              case 5:\n                return _context2.abrupt(\"return\", this.get('/cosmos/base/tendermint/v1beta1/blocks/latest', config).then(function (data) {\n                  return Block.create(data);\n                }));\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLatestBlock() {\n        return _getLatestBlock.apply(this, arguments);\n      }\n\n      return getLatestBlock;\n    }()\n  }, {\n    key: \"getBlockByHeight\",\n    value: function () {\n      var _getBlockByHeight = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(height) {\n        var config,\n            conf,\n            ver,\n            _args3 = arguments;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                config = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : null;\n                conf = config || this.getSelectedConfig();\n                ver = conf.sdk_version || '0.41';\n\n                if (!(ver && compareVersions(ver, '0.45') < 1)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", this.get('/blocks/latest', config).then(function (data) {\n                  return Block.create(data);\n                }).then(function (block) {\n                  block.block.last_commit.signatures.map(function (s1) {\n                    var s = s1;\n                    s.validator_address = toBase64(fromHex(s.validator_address));\n                    return s;\n                  });\n                  return block;\n                }));\n\n              case 5:\n                return _context3.abrupt(\"return\", this.get(\"/cosmos/base/tendermint/v1beta1/blocks/\".concat(height), config).then(function (data) {\n                  return Block.create(data);\n                }));\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getBlockByHeight(_x) {\n        return _getBlockByHeight.apply(this, arguments);\n      }\n\n      return getBlockByHeight;\n    }()\n  }, {\n    key: \"getSlashingSigningInfo\",\n    value: function () {\n      var _getSlashingSigningInfo = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var config,\n            _args4 = arguments;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                config = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : null;\n                return _context4.abrupt(\"return\", this.get('/cosmos/slashing/v1beta1/signing_infos?pagination.limit=500', config));\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getSlashingSigningInfo() {\n        return _getSlashingSigningInfo.apply(this, arguments);\n      }\n\n      return getSlashingSigningInfo;\n    }()\n  }, {\n    key: \"getTxs\",\n    value: function () {\n      var _getTxs = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(hash) {\n        var config,\n            conf,\n            ver,\n            _args5 = arguments;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                config = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : null;\n                conf = config || this.getSelectedConfig();\n                ver = conf.sdk_version || '0.41'; // /cosmos/tx/v1beta1/txs/{hash}\n\n                if (!(ver && compareVersions(ver, '0.40') < 1)) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", this.get(\"/txs/\".concat(hash)).then(function (data) {\n                  return WrapStdTx.create(data, ver);\n                }));\n\n              case 5:\n                return _context5.abrupt(\"return\", this.get(\"/cosmos/tx/v1beta1/txs/\".concat(hash)).then(function (data) {\n                  return WrapStdTx.create(data, ver);\n                }));\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getTxs(_x2) {\n        return _getTxs.apply(this, arguments);\n      }\n\n      return getTxs;\n    }()\n  }, {\n    key: \"getTxsBySender\",\n    value: function () {\n      var _getTxsBySender = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(sender) {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", this.get(\"/cosmos/tx/v1beta1/txs?events=message.sender='\".concat(sender, \"'&pagination.reverse=true&order_by=ORDER_BY_DESC\")));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getTxsBySender(_x3) {\n        return _getTxsBySender.apply(this, arguments);\n      }\n\n      return getTxsBySender;\n    }()\n  }, {\n    key: \"getTxsByRecipient\",\n    value: function () {\n      var _getTxsByRecipient = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(recipient) {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", this.get(\"/cosmos/tx/v1beta1/txs?message.recipient=\".concat(recipient)));\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getTxsByRecipient(_x4) {\n        return _getTxsByRecipient.apply(this, arguments);\n      }\n\n      return getTxsByRecipient;\n    }()\n  }, {\n    key: \"getTxsByHeight\",\n    value: function () {\n      var _getTxsByHeight = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(height) {\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", this.get(\"/cosmos/tx/v1beta1/txs?events=tx.height=\".concat(height)));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getTxsByHeight(_x5) {\n        return _getTxsByHeight.apply(this, arguments);\n      }\n\n      return getTxsByHeight;\n    }()\n  }, {\n    key: \"getValidatorDistribution\",\n    value: function () {\n      var _getValidatorDistribution = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(address) {\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", Promise.all([this.get(\"/cosmos/distribution/v1beta1/validators/\".concat(address, \"/commission\"), null, true), this.get(\"/cosmos/distribution/v1beta1/validators/\".concat(address, \"/outstanding_rewards\"), null, true)]).then(function (data) {\n                  var ret = ValidatorDistribution.create({\n                    operator_address: address,\n                    self_bond_rewards: data[1].rewards.rewards,\n                    val_commission: data[0].commission.commission\n                  });\n                  return ret;\n                }));\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getValidatorDistribution(_x6) {\n        return _getValidatorDistribution.apply(this, arguments);\n      }\n\n      return getValidatorDistribution;\n    }()\n  }, {\n    key: \"getStakingDelegatorDelegation\",\n    value: function () {\n      var _getStakingDelegatorDelegation = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(delegatorAddr, validatorAddr) {\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                return _context10.abrupt(\"return\", this.get(\"/cosmos/staking/v1beta1/validators/\".concat(validatorAddr, \"/delegations/\").concat(delegatorAddr)).then(function (data) {\n                  return StakingDelegation.create(commonProcess(data).delegation_response);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function getStakingDelegatorDelegation(_x7, _x8) {\n        return _getStakingDelegatorDelegation.apply(this, arguments);\n      }\n\n      return getStakingDelegatorDelegation;\n    }()\n  }, {\n    key: \"getBankTotal\",\n    value: function () {\n      var _getBankTotal = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11(denom) {\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!(compareVersions(this.config.sdk_version, '0.46.5') > 0)) {\n                  _context11.next = 2;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\", this.get(\"/cosmos/bank/v1beta1/supply/by_denom?denom=\".concat(denom)).then(function (data) {\n                  return commonProcess(data).amount;\n                }));\n\n              case 2:\n                if (!(compareVersions(this.config.sdk_version, '0.40') < 0)) {\n                  _context11.next = 4;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\", this.get(\"/supply/total/\".concat(denom)).then(function (data) {\n                  return {\n                    amount: commonProcess(data),\n                    denom: denom\n                  };\n                }));\n\n              case 4:\n                return _context11.abrupt(\"return\", this.get(\"/cosmos/bank/v1beta1/supply/\".concat(denom)).then(function (data) {\n                  return commonProcess(data).amount;\n                }));\n\n              case 5:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function getBankTotal(_x9) {\n        return _getBankTotal.apply(this, arguments);\n      }\n\n      return getBankTotal;\n    }()\n  }, {\n    key: \"getBankTotals\",\n    value: function () {\n      var _getBankTotals = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12() {\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (!(compareVersions(this.config.sdk_version, '0.40') < 0)) {\n                  _context12.next = 2;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", this.get('/supply/total').then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 2:\n                return _context12.abrupt(\"return\", this.get('/cosmos/bank/v1beta1/supply').then(function (data) {\n                  return data.supply;\n                }));\n\n              case 3:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function getBankTotals() {\n        return _getBankTotals.apply(this, arguments);\n      }\n\n      return getBankTotals;\n    }()\n  }, {\n    key: \"getStakingPool\",\n    value: function () {\n      var _getStakingPool = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee13() {\n        return regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                return _context13.abrupt(\"return\", this.get('/cosmos/staking/v1beta1/pool', null, true).then(function (data) {\n                  return new StakingPool().init(commonProcess(data.pool));\n                }));\n\n              case 1:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function getStakingPool() {\n        return _getStakingPool.apply(this, arguments);\n      }\n\n      return getStakingPool;\n    }()\n  }, {\n    key: \"getMintingInflation\",\n    value: function () {\n      var _getMintingInflation = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee14() {\n        return regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (!(this.config.chain_name === 'evmos')) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", this.get('/evmos/inflation/v1/inflation_rate').then(function (data) {\n                  return Number(data.inflation_rate / 100 || 0);\n                }));\n\n              case 2:\n                if (!(this.config.chain_name === 'echelon')) {\n                  _context14.next = 4;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", this.get('/echelon/inflation/v1/inflation_rate').then(function (data) {\n                  return Number(data.inflation_rate / 100 || 0);\n                }));\n\n              case 4:\n                if (!this.isModuleLoaded('minting')) {\n                  _context14.next = 6;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", this.get('/cosmos/mint/v1beta1/inflation').then(function (data) {\n                  return Number(commonProcess(data.inflation));\n                }));\n\n              case 6:\n                return _context14.abrupt(\"return\", 0);\n\n              case 7:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function getMintingInflation() {\n        return _getMintingInflation.apply(this, arguments);\n      }\n\n      return getMintingInflation;\n    }()\n  }, {\n    key: \"getStakingParameters\",\n    value: function () {\n      var _getStakingParameters = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee15() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                return _context15.abrupt(\"return\", this.get('/cosmos/staking/v1beta1/params', null, true).then(function (data) {\n                  _this.getSelectedConfig();\n\n                  return StakingParameters.create(commonProcess(data.params), _this.config.chain_name);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function getStakingParameters() {\n        return _getStakingParameters.apply(this, arguments);\n      }\n\n      return getStakingParameters;\n    }()\n  }, {\n    key: \"getValidatorList\",\n    value: function () {\n      var _getValidatorList = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee16() {\n        var _this2 = this;\n\n        var config,\n            _args16 = arguments;\n        return regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                config = _args16.length > 0 && _args16[0] !== undefined ? _args16[0] : null;\n                return _context16.abrupt(\"return\", this.get('/cosmos/staking/v1beta1/validators?pagination.limit=200&status=BOND_STATUS_BONDED', config, true).then(function (data) {\n                  var vals = commonProcess(data.validators).map(function (i) {\n                    return new Validator().init(i);\n                  });\n\n                  try {\n                    localStorage.setItem(\"validators-\".concat(_this2.config.chain_name), JSON.stringify(vals));\n                  } catch (err) {\n                    // clear cache\n                    for (var i = 0; i < localStorage.length; i += 1) {\n                      var key = localStorage.key(i);\n\n                      if (key.startsWith('validators')) {\n                        localStorage.removeItem(key);\n                      }\n                    } // set again\n\n\n                    // set again\n                    localStorage.setItem(\"validators-\".concat(_this2.config.chain_name), JSON.stringify(vals));\n                  }\n\n                  return vals;\n                }));\n\n              case 2:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function getValidatorList() {\n        return _getValidatorList.apply(this, arguments);\n      }\n\n      return getValidatorList;\n    }()\n  }, {\n    key: \"getValidatorUnbondedList\",\n    value: function () {\n      var _getValidatorUnbondedList = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee17() {\n        return regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                return _context17.abrupt(\"return\", this.get('/cosmos/staking/v1beta1/validators?pagination.limit=100&status=BOND_STATUS_UNBONDED', null, true).then(function (data) {\n                  var result = commonProcess(data.validators);\n                  var vals = result.validators ? result.validators : result;\n                  return vals.map(function (i) {\n                    return new Validator().init(i);\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function getValidatorUnbondedList() {\n        return _getValidatorUnbondedList.apply(this, arguments);\n      }\n\n      return getValidatorUnbondedList;\n    }()\n  }, {\n    key: \"getValidatorListByStatus\",\n    value: function () {\n      var _getValidatorListByStatus = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee18(status) {\n        return regeneratorRuntime.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                return _context18.abrupt(\"return\", this.get(\"/cosmos/staking/v1beta1/validators?status=\".concat(status, \"&pagination.limit=500\"), null, true).then(function (data) {\n                  var result = commonProcess(data);\n                  var vals = result.validators ? result.validators : result;\n                  return vals.map(function (i) {\n                    return new Validator().init(i);\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function getValidatorListByStatus(_x10) {\n        return _getValidatorListByStatus.apply(this, arguments);\n      }\n\n      return getValidatorListByStatus;\n    }()\n  }, {\n    key: \"getValidatorListByHeight\",\n    value: function () {\n      var _getValidatorListByHeight = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee19(height, offset) {\n        return regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                return _context19.abrupt(\"return\", this.get(\"/cosmos/base/tendermint/v1beta1/validatorsets/\".concat(height, \"?pagination.limit=100&pagination.offset=\").concat(offset)).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n\n      function getValidatorListByHeight(_x11, _x12) {\n        return _getValidatorListByHeight.apply(this, arguments);\n      }\n\n      return getValidatorListByHeight;\n    }()\n  }, {\n    key: \"getStakingValidator\",\n    value: function () {\n      var _getStakingValidator = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee20(address) {\n        return regeneratorRuntime.wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                return _context20.abrupt(\"return\", this.get(\"/cosmos/staking/v1beta1/validators/\".concat(address), null, true).then(function (data) {\n                  return new Validator().init(commonProcess(data).validator);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20, this);\n      }));\n\n      function getStakingValidator(_x13) {\n        return _getStakingValidator.apply(this, arguments);\n      }\n\n      return getStakingValidator;\n    }()\n  }, {\n    key: \"getSlashingParameters\",\n    value: function () {\n      var _getSlashingParameters = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee21() {\n        return regeneratorRuntime.wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                if (!this.isModuleLoaded('slashing')) {\n                  _context21.next = 2;\n                  break;\n                }\n\n                return _context21.abrupt(\"return\", this.get('/cosmos/slashing/v1beta1/params').then(function (data) {\n                  return commonProcess(data.params);\n                }));\n\n              case 2:\n                return _context21.abrupt(\"return\", null);\n\n              case 3:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21, this);\n      }));\n\n      function getSlashingParameters() {\n        return _getSlashingParameters.apply(this, arguments);\n      }\n\n      return getSlashingParameters;\n    }()\n  }, {\n    key: \"getMintParameters\",\n    value: function () {\n      var _getMintParameters = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee22() {\n        var result, _result;\n\n        return regeneratorRuntime.wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                if (!(this.config.chain_name === 'evmos')) {\n                  _context22.next = 9;\n                  break;\n                }\n\n                _context22.next = 3;\n                return this.get('/evmos/inflation/v1/params').then(function (data) {\n                  return data.params;\n                });\n\n              case 3:\n                result = _context22.sent;\n                _context22.next = 6;\n                return this.get('/evmos/inflation/v1/period').then(function (data) {\n                  Object.entries(data).forEach(function (x) {\n                    var k = x[0];\n                    var v = x[1];\n                    result[k] = v;\n                  });\n                });\n\n              case 6:\n                _context22.next = 8;\n                return this.get('/evmos/inflation/v1/total_supply').then(function (data) {\n                  Object.entries(data).forEach(function (x) {\n                    var k = x[0];\n                    var v = x[1];\n                    result[k] = v;\n                  });\n                });\n\n              case 8:\n                return _context22.abrupt(\"return\", result);\n\n              case 9:\n                if (!(this.config.chain_name === 'echelon')) {\n                  _context22.next = 18;\n                  break;\n                }\n\n                _context22.next = 12;\n                return this.get('/echelon/inflation/v1/params').then(function (data) {\n                  return data.params;\n                });\n\n              case 12:\n                _result = _context22.sent;\n                _context22.next = 15;\n                return this.get('/echelon/inflation/v1/period').then(function (data) {\n                  Object.entries(data).forEach(function (x) {\n                    var k = x[0];\n                    var v = x[1];\n                    _result[k] = v;\n                  });\n                });\n\n              case 15:\n                _context22.next = 17;\n                return this.get('/echelon/inflation/v1/total_supply').then(function (data) {\n                  Object.entries(data).forEach(function (x) {\n                    var k = x[0];\n                    var v = x[1];\n                    _result[k] = v;\n                  });\n                });\n\n              case 17:\n                return _context22.abrupt(\"return\", _result);\n\n              case 18:\n                if (!this.isModuleLoaded('minting')) {\n                  _context22.next = 20;\n                  break;\n                }\n\n                return _context22.abrupt(\"return\", this.get('/cosmos/mint/v1beta1/params').then(function (data) {\n                  return commonProcess(data.params);\n                }));\n\n              case 20:\n                return _context22.abrupt(\"return\", null);\n\n              case 21:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22, this);\n      }));\n\n      function getMintParameters() {\n        return _getMintParameters.apply(this, arguments);\n      }\n\n      return getMintParameters;\n    }()\n  }, {\n    key: \"getDistributionParameters\",\n    value: function () {\n      var _getDistributionParameters = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee23() {\n        return regeneratorRuntime.wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                return _context23.abrupt(\"return\", this.get('/cosmos/distribution/v1beta1/params', null, true).then(function (data) {\n                  return commonProcess(data.params);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, this);\n      }));\n\n      function getDistributionParameters() {\n        return _getDistributionParameters.apply(this, arguments);\n      }\n\n      return getDistributionParameters;\n    }()\n  }, {\n    key: \"getGovernanceParameterDeposit\",\n    value: function () {\n      var _getGovernanceParameterDeposit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee24() {\n        var ver;\n        return regeneratorRuntime.wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                return _context24.abrupt(\"return\", this.get(\"/cosmos/gov/\".concat(ver, \"/params/deposit\")).then(function (data) {\n                  return commonProcess(data.deposit_params);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24, this);\n      }));\n\n      function getGovernanceParameterDeposit() {\n        return _getGovernanceParameterDeposit.apply(this, arguments);\n      }\n\n      return getGovernanceParameterDeposit;\n    }()\n  }, {\n    key: \"getGovernanceParameterTallying\",\n    value: function () {\n      var _getGovernanceParameterTallying = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee25() {\n        var ver;\n        return regeneratorRuntime.wrap(function _callee25$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                return _context25.abrupt(\"return\", this.get(\"/cosmos/gov/\".concat(ver, \"/params/tallying\")).then(function (data) {\n                  return commonProcess(data.tally_params);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee25, this);\n      }));\n\n      function getGovernanceParameterTallying() {\n        return _getGovernanceParameterTallying.apply(this, arguments);\n      }\n\n      return getGovernanceParameterTallying;\n    }()\n  }, {\n    key: \"getGovernanceParameterVoting\",\n    value: function () {\n      var _getGovernanceParameterVoting = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee26() {\n        var ver;\n        return regeneratorRuntime.wrap(function _callee26$(_context26) {\n          while (1) {\n            switch (_context26.prev = _context26.next) {\n              case 0:\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                return _context26.abrupt(\"return\", this.get(\"/cosmos/gov/\".concat(ver, \"/params/voting\")).then(function (data) {\n                  return commonProcess(data.voting_params);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context26.stop();\n            }\n          }\n        }, _callee26, this);\n      }));\n\n      function getGovernanceParameterVoting() {\n        return _getGovernanceParameterVoting.apply(this, arguments);\n      }\n\n      return getGovernanceParameterVoting;\n    }()\n  }, {\n    key: \"getGovernanceTally\",\n    value: function () {\n      var _getGovernanceTally = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee27(pid, total, conf) {\n        var ver;\n        return regeneratorRuntime.wrap(function _callee27$(_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                return _context27.abrupt(\"return\", this.get(\"/cosmos/gov/\".concat(ver, \"/proposals/\").concat(pid, \"/tally\"), conf).then(function (data) {\n                  return new ProposalTally().init(commonProcess(data).tally, total);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee27, this);\n      }));\n\n      function getGovernanceTally(_x14, _x15, _x16) {\n        return _getGovernanceTally.apply(this, arguments);\n      }\n\n      return getGovernanceTally;\n    }()\n  }, {\n    key: \"getGovernance\",\n    value: function getGovernance(pid) {\n      var _this3 = this;\n\n      if (this.config.chain_name === 'shentu') {\n        return this.get(\"/shentu/gov/v1alpha1/proposals/\".concat(pid)).then(function (data) {\n          var p = new Proposal().init(commonProcess(data).proposal, 0);\n          return p;\n        });\n      }\n\n      var ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n      return this.get(\"/cosmos/gov/\".concat(ver, \"/proposals/\").concat(pid)).then(function (data) {\n        var p = new Proposal().init(commonProcess(data).proposal, 0);\n        p.versionFixed(_this3.config.sdk_version);\n        return p;\n      });\n    }\n  }, {\n    key: \"getGovernanceProposer\",\n    value: function () {\n      var _getGovernanceProposer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee28(pid) {\n        return regeneratorRuntime.wrap(function _callee28$(_context28) {\n          while (1) {\n            switch (_context28.prev = _context28.next) {\n              case 0:\n                if (!(this.config.chain_name === 'shentu')) {\n                  _context28.next = 2;\n                  break;\n                }\n\n                return _context28.abrupt(\"return\", this.get(\"/shentu/gov/v1alpha1/\".concat(pid, \"/proposer\")).then(function (data) {\n                  return new Proposer().init(commonProcess(data));\n                }));\n\n              case 2:\n                return _context28.abrupt(\"return\", this.get(\"/gov/proposals/\".concat(pid, \"/proposer\")).then(function (data) {\n                  return new Proposer().init(commonProcess(data));\n                }));\n\n              case 3:\n              case \"end\":\n                return _context28.stop();\n            }\n          }\n        }, _callee28, this);\n      }));\n\n      function getGovernanceProposer(_x17) {\n        return _getGovernanceProposer.apply(this, arguments);\n      }\n\n      return getGovernanceProposer;\n    }()\n  }, {\n    key: \"getGovernanceDeposits\",\n    value: function () {\n      var _getGovernanceDeposits = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee29(pid) {\n        var ver;\n        return regeneratorRuntime.wrap(function _callee29$(_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                if (!(this.config.chain_name === 'shentu')) {\n                  _context29.next = 2;\n                  break;\n                }\n\n                return _context29.abrupt(\"return\", this.get(\"/shentu/gov/v1alpha1/proposals/\".concat(pid, \"/deposits\")).then(function (data) {\n                  var result = commonProcess(data);\n                  return Array.isArray(result) ? result.reverse().map(function (d) {\n                    return new Deposit().init(d);\n                  }) : result;\n                }));\n\n              case 2:\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                return _context29.abrupt(\"return\", this.get(\"/cosmos/gov/\".concat(ver, \"/proposals/\").concat(pid, \"/deposits\")).then(function (data) {\n                  var result = commonProcess(data);\n                  return Array.isArray(result) ? result.reverse().map(function (d) {\n                    return new Deposit().init(d);\n                  }) : result;\n                }));\n\n              case 4:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee29, this);\n      }));\n\n      function getGovernanceDeposits(_x18) {\n        return _getGovernanceDeposits.apply(this, arguments);\n      }\n\n      return getGovernanceDeposits;\n    }()\n  }, {\n    key: \"getGovernanceVotes\",\n    value: function () {\n      var _getGovernanceVotes = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee30(pid) {\n        var next,\n            limit,\n            ver,\n            _args30 = arguments;\n        return regeneratorRuntime.wrap(function _callee30$(_context30) {\n          while (1) {\n            switch (_context30.prev = _context30.next) {\n              case 0:\n                next = _args30.length > 1 && _args30[1] !== undefined ? _args30[1] : '';\n                limit = _args30.length > 2 && _args30[2] !== undefined ? _args30[2] : 50;\n\n                if (!(compareVersions(this.config.sdk_version, '0.40') < 0)) {\n                  _context30.next = 4;\n                  break;\n                }\n\n                return _context30.abrupt(\"return\", this.get(\"/cosmos/gov/v1beta1/proposals/\".concat(pid, \"/votes\")).then(function (data) {\n                  return {\n                    votes: commonProcess(data).map(function (d) {\n                      return new Votes().init(d);\n                    }),\n                    pagination: {}\n                  };\n                }));\n\n              case 4:\n                if (!(this.config.chain_name === 'shentu')) {\n                  _context30.next = 6;\n                  break;\n                }\n\n                return _context30.abrupt(\"return\", this.get(\"/shentu/gov/v1alpha1/proposals/\".concat(pid, \"/votes?pagination.key=\").concat(encodeURIComponent(next), \"&pagination.limit=\").concat(limit, \"&pagination.reverse=true\")));\n\n              case 6:\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                return _context30.abrupt(\"return\", this.get(\"/cosmos/gov/\".concat(ver, \"/proposals/\").concat(pid, \"/votes?pagination.key=\").concat(encodeURIComponent(next), \"&pagination.limit=\").concat(limit, \"&pagination.reverse=true\")));\n\n              case 8:\n              case \"end\":\n                return _context30.stop();\n            }\n          }\n        }, _callee30, this);\n      }));\n\n      function getGovernanceVotes(_x19) {\n        return _getGovernanceVotes.apply(this, arguments);\n      }\n\n      return getGovernanceVotes;\n    }()\n  }, {\n    key: \"getGovernanceListByStatus\",\n    value: function () {\n      var _getGovernanceListByStatus = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee31(status) {\n        var _this4 = this;\n\n        var chain,\n            conf,\n            ver,\n            url,\n            _args31 = arguments;\n        return regeneratorRuntime.wrap(function _callee31$(_context31) {\n          while (1) {\n            switch (_context31.prev = _context31.next) {\n              case 0:\n                chain = _args31.length > 1 && _args31[1] !== undefined ? _args31[1] : null;\n                conf = chain || this.config;\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                url = conf.chain_name === 'shentu' ? \"/shentu/gov/v1alpha1/proposals?pagination.limit=100&proposal_status=\".concat(status) : \"/cosmos/gov/\".concat(ver, \"/proposals?pagination.limit=100&proposal_status=\").concat(status);\n                return _context31.abrupt(\"return\", this.get(url, conf).then(function (data) {\n                  var proposals = commonProcess(data);\n\n                  if (Array.isArray(proposals.proposals)) {\n                    proposals = proposals.proposals;\n                  }\n\n                  var ret = [];\n\n                  if (proposals) {\n                    proposals.forEach(function (e) {\n                      var g = new Proposal().init(e, 0);\n                      g.versionFixed(_this4.config.sdk_version);\n                      ret.push(g);\n                    });\n                  }\n\n                  return {\n                    proposals: ret,\n                    pagination: data.pagination\n                  };\n                }));\n\n              case 5:\n              case \"end\":\n                return _context31.stop();\n            }\n          }\n        }, _callee31, this);\n      }));\n\n      function getGovernanceListByStatus(_x20) {\n        return _getGovernanceListByStatus.apply(this, arguments);\n      }\n\n      return getGovernanceListByStatus;\n    }()\n  }, {\n    key: \"getGovernanceProposalVote\",\n    value: function () {\n      var _getGovernanceProposalVote = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee32(pid, voter, chain) {\n        var ver, url;\n        return regeneratorRuntime.wrap(function _callee32$(_context32) {\n          while (1) {\n            switch (_context32.prev = _context32.next) {\n              case 0:\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                url = this.config.chain_name === 'shentu' ? \"/shentu/gov/v1alpha1/proposals/\".concat(pid, \"/votes/\").concat(voter) : \"/cosmos/gov/\".concat(ver, \"/proposals/\").concat(pid, \"/votes/\").concat(voter);\n                return _context32.abrupt(\"return\", this.get(url, chain).then(function (data) {\n                  if (data.code === 3) {\n                    throw new Error('not found');\n                  }\n\n                  return data;\n                }));\n\n              case 3:\n              case \"end\":\n                return _context32.stop();\n            }\n          }\n        }, _callee32, this);\n      }));\n\n      function getGovernanceProposalVote(_x21, _x22, _x23) {\n        return _getGovernanceProposalVote.apply(this, arguments);\n      }\n\n      return getGovernanceProposalVote;\n    }() /// does NOT return value as expected\n\n  }, {\n    key: \"getUpgradeCurrentPlan\",\n    value: function () {\n      var _getUpgradeCurrentPlan = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee33() {\n        var chain,\n            _args33 = arguments;\n        return regeneratorRuntime.wrap(function _callee33$(_context33) {\n          while (1) {\n            switch (_context33.prev = _context33.next) {\n              case 0:\n                chain = _args33.length > 0 && _args33[0] !== undefined ? _args33[0] : null;\n                return _context33.abrupt(\"return\", this.get('/cosmos/upgrade/v1beta1/current_plan', chain));\n\n              case 2:\n              case \"end\":\n                return _context33.stop();\n            }\n          }\n        }, _callee33, this);\n      }));\n\n      function getUpgradeCurrentPlan() {\n        return _getUpgradeCurrentPlan.apply(this, arguments);\n      }\n\n      return getUpgradeCurrentPlan;\n    }()\n  }, {\n    key: \"getGovernanceList\",\n    value: function () {\n      var _getGovernanceList = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee34() {\n        var _this5 = this;\n\n        var next,\n            chain,\n            key,\n            ver,\n            url,\n            _args34 = arguments;\n        return regeneratorRuntime.wrap(function _callee34$(_context34) {\n          while (1) {\n            switch (_context34.prev = _context34.next) {\n              case 0:\n                next = _args34.length > 0 && _args34[0] !== undefined ? _args34[0] : '';\n                chain = _args34.length > 1 && _args34[1] !== undefined ? _args34[1] : null;\n                key = next || '';\n                ver = compareVersions(this.config.sdk_version, '0.46.5') < 0 ? 'v1beta1' : 'v1';\n                url = this.config.chain_name === 'shentu' ? \"/shentu/gov/v1alpha1/proposals?pagination.limit=20&pagination.reverse=true&pagination.key=\".concat(key) : \"/cosmos/gov/\".concat(ver, \"/proposals?pagination.limit=20&pagination.reverse=true&pagination.key=\").concat(key);\n                return _context34.abrupt(\"return\", this.get(url, chain).then(function (data) {\n                  var proposals = commonProcess(data);\n\n                  if (Array.isArray(proposals.proposals)) {\n                    proposals = proposals.proposals;\n                  }\n\n                  var ret = [];\n\n                  if (proposals) {\n                    proposals.forEach(function (e) {\n                      var g = new Proposal().init(e, 0);\n                      g.versionFixed(_this5.config.sdk_version);\n                      ret.push(g);\n                    });\n                  }\n\n                  return {\n                    proposals: ret,\n                    pagination: data.pagination\n                  };\n                }));\n\n              case 6:\n              case \"end\":\n                return _context34.stop();\n            }\n          }\n        }, _callee34, this);\n      }));\n\n      function getGovernanceList() {\n        return _getGovernanceList.apply(this, arguments);\n      }\n\n      return getGovernanceList;\n    }()\n  }, {\n    key: \"getAuthAccount\",\n    value: function () {\n      var _getAuthAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee35(address) {\n        var config,\n            _args35 = arguments;\n        return regeneratorRuntime.wrap(function _callee35$(_context35) {\n          while (1) {\n            switch (_context35.prev = _context35.next) {\n              case 0:\n                config = _args35.length > 1 && _args35[1] !== undefined ? _args35[1] : null;\n                return _context35.abrupt(\"return\", this.get('/cosmos/auth/v1beta1/accounts/'.concat(address), config).then(function (data) {\n                  var result = commonProcess(data);\n                  return result;\n                }));\n\n              case 2:\n              case \"end\":\n                return _context35.stop();\n            }\n          }\n        }, _callee35, this);\n      }));\n\n      function getAuthAccount(_x24) {\n        return _getAuthAccount.apply(this, arguments);\n      }\n\n      return getAuthAccount;\n    }()\n  }, {\n    key: \"getBankAccountBalance\",\n    value: function () {\n      var _getBankAccountBalance = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee36(address) {\n        return regeneratorRuntime.wrap(function _callee36$(_context36) {\n          while (1) {\n            switch (_context36.prev = _context36.next) {\n              case 0:\n                return _context36.abrupt(\"return\", this.get('/cosmos/bank/v1beta1/balances/'.concat(address)).then(function (data) {\n                  return commonProcess(data).balances;\n                }));\n\n              case 1:\n              case \"end\":\n                return _context36.stop();\n            }\n          }\n        }, _callee36, this);\n      }));\n\n      function getBankAccountBalance(_x25) {\n        return _getBankAccountBalance.apply(this, arguments);\n      }\n\n      return getBankAccountBalance;\n    }()\n  }, {\n    key: \"getStakingReward\",\n    value: function () {\n      var _getStakingReward = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee37(address) {\n        var config,\n            _args37 = arguments;\n        return regeneratorRuntime.wrap(function _callee37$(_context37) {\n          while (1) {\n            switch (_context37.prev = _context37.next) {\n              case 0:\n                config = _args37.length > 1 && _args37[1] !== undefined ? _args37[1] : null;\n\n                if (!(compareVersions(config ? config.sdk_version : this.config.sdk_version, '0.40') < 0)) {\n                  _context37.next = 3;\n                  break;\n                }\n\n                return _context37.abrupt(\"return\", this.get(\"/distribution/delegators/\".concat(address, \"/rewards\"), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 3:\n                return _context37.abrupt(\"return\", this.get(\"/cosmos/distribution/v1beta1/delegators/\".concat(address, \"/rewards\"), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 4:\n              case \"end\":\n                return _context37.stop();\n            }\n          }\n        }, _callee37, this);\n      }));\n\n      function getStakingReward(_x26) {\n        return _getStakingReward.apply(this, arguments);\n      }\n\n      return getStakingReward;\n    }()\n  }, {\n    key: \"getValidatorSlashs\",\n    value: function () {\n      var _getValidatorSlashs = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee38(address) {\n        var config,\n            _args38 = arguments;\n        return regeneratorRuntime.wrap(function _callee38$(_context38) {\n          while (1) {\n            switch (_context38.prev = _context38.next) {\n              case 0:\n                config = _args38.length > 1 && _args38[1] !== undefined ? _args38[1] : null;\n                return _context38.abrupt(\"return\", this.get(\"/cosmos/distribution/v1beta1/validators/\".concat(address, \"/slashes\"), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context38.stop();\n            }\n          }\n        }, _callee38, this);\n      }));\n\n      function getValidatorSlashs(_x27) {\n        return _getValidatorSlashs.apply(this, arguments);\n      }\n\n      return getValidatorSlashs;\n    }()\n  }, {\n    key: \"getStakingValidators\",\n    value: function () {\n      var _getStakingValidators = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee39(address) {\n        return regeneratorRuntime.wrap(function _callee39$(_context39) {\n          while (1) {\n            switch (_context39.prev = _context39.next) {\n              case 0:\n                return _context39.abrupt(\"return\", this.get(\"/cosmos/distribution/v1beta1/delegators/\".concat(address, \"/validators?pagination.size=200\"), null, true).then(function (data) {\n                  return commonProcess(data.validators);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context39.stop();\n            }\n          }\n        }, _callee39, this);\n      }));\n\n      function getStakingValidators(_x28) {\n        return _getStakingValidators.apply(this, arguments);\n      }\n\n      return getStakingValidators;\n    }()\n  }, {\n    key: \"getStakingDelegations\",\n    value: function () {\n      var _getStakingDelegations = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee40(address) {\n        var config,\n            _args40 = arguments;\n        return regeneratorRuntime.wrap(function _callee40$(_context40) {\n          while (1) {\n            switch (_context40.prev = _context40.next) {\n              case 0:\n                config = _args40.length > 1 && _args40[1] !== undefined ? _args40[1] : null;\n\n                if (!(compareVersions(config ? config.sdk_version : this.config.sdk_version, '0.40') < 0)) {\n                  _context40.next = 3;\n                  break;\n                }\n\n                return _context40.abrupt(\"return\", this.get(\"/staking/delegators/\".concat(address, \"/delegations\"), config, true).then(function (data) {\n                  return commonProcess(data).map(function (x) {\n                    var xh = x;\n\n                    if (!xh.delegation) {\n                      xh.delegation = {\n                        validator_address: x.validator_address,\n                        delegator_address: x.delegator_address\n                      };\n                    }\n\n                    return xh;\n                  });\n                }));\n\n              case 3:\n                return _context40.abrupt(\"return\", this.get(\"/cosmos/staking/v1beta1/delegations/\".concat(address), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 4:\n              case \"end\":\n                return _context40.stop();\n            }\n          }\n        }, _callee40, this);\n      }));\n\n      function getStakingDelegations(_x29) {\n        return _getStakingDelegations.apply(this, arguments);\n      }\n\n      return getStakingDelegations;\n    }()\n  }, {\n    key: \"getStakingRedelegations\",\n    value: function () {\n      var _getStakingRedelegations = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee41(address) {\n        var config,\n            _args41 = arguments;\n        return regeneratorRuntime.wrap(function _callee41$(_context41) {\n          while (1) {\n            switch (_context41.prev = _context41.next) {\n              case 0:\n                config = _args41.length > 1 && _args41[1] !== undefined ? _args41[1] : null;\n\n                if (!(compareVersions(config ? config.sdk_version : this.config.sdk_version, '0.40') < 0)) {\n                  _context41.next = 3;\n                  break;\n                }\n\n                return _context41.abrupt(\"return\", this.get(\"/staking/redelegations?delegator=\".concat(address), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 3:\n                return _context41.abrupt(\"return\", this.get(\"/cosmos/staking/v1beta1/delegators/\".concat(address, \"/redelegations\"), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 4:\n              case \"end\":\n                return _context41.stop();\n            }\n          }\n        }, _callee41, this);\n      }));\n\n      function getStakingRedelegations(_x30) {\n        return _getStakingRedelegations.apply(this, arguments);\n      }\n\n      return getStakingRedelegations;\n    }()\n  }, {\n    key: \"getStakingUnbonding\",\n    value: function () {\n      var _getStakingUnbonding = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee42(address) {\n        var config,\n            _args42 = arguments;\n        return regeneratorRuntime.wrap(function _callee42$(_context42) {\n          while (1) {\n            switch (_context42.prev = _context42.next) {\n              case 0:\n                config = _args42.length > 1 && _args42[1] !== undefined ? _args42[1] : null;\n\n                if (!(compareVersions(config ? config.sdk_version : this.config.sdk_version, '0.40') < 0)) {\n                  _context42.next = 3;\n                  break;\n                }\n\n                return _context42.abrupt(\"return\", this.get(\"/staking/delegators/\".concat(address, \"/unbonding_delegations\"), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 3:\n                return _context42.abrupt(\"return\", this.get(\"/cosmos/staking/v1beta1/delegators/\".concat(address, \"/unbonding_delegations\"), config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 4:\n              case \"end\":\n                return _context42.stop();\n            }\n          }\n        }, _callee42, this);\n      }));\n\n      function getStakingUnbonding(_x31) {\n        return _getStakingUnbonding.apply(this, arguments);\n      }\n\n      return getStakingUnbonding;\n    }()\n  }, {\n    key: \"getBankBalances\",\n    value: function () {\n      var _getBankBalances = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee43(address) {\n        var config,\n            _args43 = arguments;\n        return regeneratorRuntime.wrap(function _callee43$(_context43) {\n          while (1) {\n            switch (_context43.prev = _context43.next) {\n              case 0:\n                config = _args43.length > 1 && _args43[1] !== undefined ? _args43[1] : null;\n                return _context43.abrupt(\"return\", this.get('/cosmos/bank/v1beta1/balances/'.concat(address), config).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context43.stop();\n            }\n          }\n        }, _callee43, this);\n      }));\n\n      function getBankBalances(_x32) {\n        return _getBankBalances.apply(this, arguments);\n      }\n\n      return getBankBalances;\n    }()\n  }, {\n    key: \"getCommunityPool\",\n    value: function () {\n      var _getCommunityPool = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee44() {\n        var config,\n            _args44 = arguments;\n        return regeneratorRuntime.wrap(function _callee44$(_context44) {\n          while (1) {\n            switch (_context44.prev = _context44.next) {\n              case 0:\n                config = _args44.length > 0 && _args44[0] !== undefined ? _args44[0] : null;\n                return _context44.abrupt(\"return\", this.get('/cosmos/distribution/v1beta1/community_pool', config, true).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context44.stop();\n            }\n          }\n        }, _callee44, this);\n      }));\n\n      function getCommunityPool() {\n        return _getCommunityPool.apply(this, arguments);\n      }\n\n      return getCommunityPool;\n    }()\n  }, {\n    key: \"getAllIBCDenoms\",\n    value: function () {\n      var _getAllIBCDenoms = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee45() {\n        var config,\n            conf,\n            sdkVersion,\n            _args45 = arguments;\n        return regeneratorRuntime.wrap(function _callee45$(_context45) {\n          while (1) {\n            switch (_context45.prev = _context45.next) {\n              case 0:\n                config = _args45.length > 0 && _args45[0] !== undefined ? _args45[0] : null;\n                conf = config || this.getSelectedConfig();\n                sdkVersion = conf.sdk_version;\n\n                if (!(compareVersions(sdkVersion, '0.44.2') < 0)) {\n                  _context45.next = 5;\n                  break;\n                }\n\n                return _context45.abrupt(\"return\", this.get('/ibc/applications/transfer/v1beta1/denom_traces?pagination.limit=500', conf).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 5:\n                return _context45.abrupt(\"return\", this.get('/ibc/apps/transfer/v1/denom_traces?pagination.limit=500', conf).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 6:\n              case \"end\":\n                return _context45.stop();\n            }\n          }\n        }, _callee45, this);\n      }));\n\n      function getAllIBCDenoms() {\n        return _getAllIBCDenoms.apply(this, arguments);\n      }\n\n      return getAllIBCDenoms;\n    }()\n  }, {\n    key: \"getIBCDenomTrace\",\n    value: function () {\n      var _getIBCDenomTrace = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee46(hash) {\n        var config,\n            h,\n            sdkVersion,\n            _args46 = arguments;\n        return regeneratorRuntime.wrap(function _callee46$(_context46) {\n          while (1) {\n            switch (_context46.prev = _context46.next) {\n              case 0:\n                config = _args46.length > 1 && _args46[1] !== undefined ? _args46[1] : null;\n                h = hash.substring(hash.indexOf('/') + 1);\n                sdkVersion = config ? config.sdk_version : this.config.sdk_version;\n\n                if (!(compareVersions(sdkVersion, '0.44.2') < 0)) {\n                  _context46.next = 5;\n                  break;\n                }\n\n                return _context46.abrupt(\"return\", this.get('/ibc/applications/transfer/v1beta1/denom_traces/'.concat(h), config).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 5:\n                return _context46.abrupt(\"return\", this.get('/ibc/apps/transfer/v1/denom_traces/'.concat(h), config).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 6:\n              case \"end\":\n                return _context46.stop();\n            }\n          }\n        }, _callee46, this);\n      }));\n\n      function getIBCDenomTrace(_x33) {\n        return _getIBCDenomTrace.apply(this, arguments);\n      }\n\n      return getIBCDenomTrace;\n    }()\n  }, {\n    key: \"getIBCChannels\",\n    value: function () {\n      var _getIBCChannels = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee47() {\n        var config,\n            key,\n            _args47 = arguments;\n        return regeneratorRuntime.wrap(function _callee47$(_context47) {\n          while (1) {\n            switch (_context47.prev = _context47.next) {\n              case 0:\n                config = _args47.length > 0 && _args47[0] !== undefined ? _args47[0] : null;\n                key = _args47.length > 1 && _args47[1] !== undefined ? _args47[1] : null;\n\n                if (!key) {\n                  _context47.next = 4;\n                  break;\n                }\n\n                return _context47.abrupt(\"return\", this.get('/ibc/core/channel/v1/channels?pagination.key='.concat(key), config).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 4:\n                return _context47.abrupt(\"return\", this.get('/ibc/core/channel/v1/channels?pagination.limit=1000', config).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 5:\n              case \"end\":\n                return _context47.stop();\n            }\n          }\n        }, _callee47, this);\n      }));\n\n      function getIBCChannels() {\n        return _getIBCChannels.apply(this, arguments);\n      }\n\n      return getIBCChannels;\n    }() // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"getIBCChannelClientState\",\n    value: function () {\n      var _getIBCChannelClientState = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee48(channel_id, port_id) {\n        var config,\n            _args48 = arguments;\n        return regeneratorRuntime.wrap(function _callee48$(_context48) {\n          while (1) {\n            switch (_context48.prev = _context48.next) {\n              case 0:\n                config = _args48.length > 2 && _args48[2] !== undefined ? _args48[2] : null;\n                return _context48.abrupt(\"return\", this.get(\"/ibc/core/channel/v1/channels/\".concat(channel_id, \"/ports/\").concat(port_id, \"/client_state\"), config).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context48.stop();\n            }\n          }\n        }, _callee48, this);\n      }));\n\n      function getIBCChannelClientState(_x34, _x35) {\n        return _getIBCChannelClientState.apply(this, arguments);\n      }\n\n      return getIBCChannelClientState;\n    }() // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"getIBCChannel\",\n    value: function () {\n      var _getIBCChannel = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee49(channel_id, port_id) {\n        var config,\n            _args49 = arguments;\n        return regeneratorRuntime.wrap(function _callee49$(_context49) {\n          while (1) {\n            switch (_context49.prev = _context49.next) {\n              case 0:\n                config = _args49.length > 2 && _args49[2] !== undefined ? _args49[2] : null;\n                return _context49.abrupt(\"return\", this.get(\"/ibc/core/channel/v1/channels/\".concat(channel_id, \"/ports/\").concat(port_id), config).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context49.stop();\n            }\n          }\n        }, _callee49, this);\n      }));\n\n      function getIBCChannel(_x36, _x37) {\n        return _getIBCChannel.apply(this, arguments);\n      }\n\n      return getIBCChannel;\n    }()\n  }, {\n    key: \"getGravityPools\",\n    value: function () {\n      var _getGravityPools = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee50() {\n        return regeneratorRuntime.wrap(function _callee50$(_context50) {\n          while (1) {\n            switch (_context50.prev = _context50.next) {\n              case 0:\n                return _context50.abrupt(\"return\", this.get('/cosmos/liquidity/v1beta1/pools').then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context50.stop();\n            }\n          }\n        }, _callee50, this);\n      }));\n\n      function getGravityPools() {\n        return _getGravityPools.apply(this, arguments);\n      }\n\n      return getGravityPools;\n    }()\n  }, {\n    key: \"getMarketChart\",\n    value: function () {\n      var _getMarketChart = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee51() {\n        var days,\n            coin,\n            conf,\n            currency,\n            _args51 = arguments;\n        return regeneratorRuntime.wrap(function _callee51$(_context51) {\n          while (1) {\n            switch (_context51.prev = _context51.next) {\n              case 0:\n                days = _args51.length > 0 && _args51[0] !== undefined ? _args51[0] : 14;\n                coin = _args51.length > 1 && _args51[1] !== undefined ? _args51[1] : null;\n                conf = this.getSelectedConfig();\n                currency = getUserCurrency();\n\n                if (!(conf.assets[0] && conf.assets[0].coingecko_id)) {\n                  _context51.next = 6;\n                  break;\n                }\n\n                return _context51.abrupt(\"return\", ChainFetch.fetch(' https://api.coingecko.com', \"/api/v3/coins/\".concat(coin || conf.assets[0].coingecko_id, \"/market_chart?vs_currency=\").concat(currency, \"&days=\").concat(days)));\n\n              case 6:\n                return _context51.abrupt(\"return\", null);\n\n              case 7:\n              case \"end\":\n                return _context51.stop();\n            }\n          }\n        }, _callee51, this);\n      }));\n\n      function getMarketChart() {\n        return _getMarketChart.apply(this, arguments);\n      }\n\n      return getMarketChart;\n    }()\n  }, {\n    key: \"getCoinInfo\",\n    value: function () {\n      var _getCoinInfo = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee52() {\n        var coin,\n            conf,\n            _args52 = arguments;\n        return regeneratorRuntime.wrap(function _callee52$(_context52) {\n          while (1) {\n            switch (_context52.prev = _context52.next) {\n              case 0:\n                coin = _args52.length > 0 && _args52[0] !== undefined ? _args52[0] : null;\n                conf = this.getSelectedConfig();\n\n                if (!(conf.assets[0] && conf.assets[0].coingecko_id)) {\n                  _context52.next = 4;\n                  break;\n                }\n\n                return _context52.abrupt(\"return\", ChainFetch.fetch(' https://api.coingecko.com', \"/api/v3/coins/\".concat(coin || conf.assets[0].coingecko_id)));\n\n              case 4:\n                return _context52.abrupt(\"return\", null);\n\n              case 5:\n              case \"end\":\n                return _context52.stop();\n            }\n          }\n        }, _callee52, this);\n      }));\n\n      function getCoinInfo() {\n        return _getCoinInfo.apply(this, arguments);\n      }\n\n      return getCoinInfo;\n    }() // CoinMarketCap\n\n  }, {\n    key: \"simulate\",\n    value: // Simulate Execution of tx\n    function () {\n      var _simulate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee53(bodyBytes) {\n        var config,\n            txString,\n            txRaw,\n            _args53 = arguments;\n        return regeneratorRuntime.wrap(function _callee53$(_context53) {\n          while (1) {\n            switch (_context53.prev = _context53.next) {\n              case 0:\n                config = _args53.length > 1 && _args53[1] !== undefined ? _args53[1] : null;\n                txString = toBase64(TxRaw.encode(bodyBytes).finish());\n                txRaw = {\n                  tx_bytes: txString\n                };\n                return _context53.abrupt(\"return\", this.post('/cosmos/tx/v1beta1/simulate', txRaw, config));\n\n              case 4:\n              case \"end\":\n                return _context53.stop();\n            }\n          }\n        }, _callee53, this);\n      }));\n\n      function simulate(_x38) {\n        return _simulate.apply(this, arguments);\n      }\n\n      return simulate;\n    }() // Tx Submit\n\n  }, {\n    key: \"broadcastTx\",\n    value: function () {\n      var _broadcastTx = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee54(bodyBytes) {\n        var config,\n            txbytes,\n            txString,\n            txRaw,\n            _args54 = arguments;\n        return regeneratorRuntime.wrap(function _callee54$(_context54) {\n          while (1) {\n            switch (_context54.prev = _context54.next) {\n              case 0:\n                config = _args54.length > 1 && _args54[1] !== undefined ? _args54[1] : null;\n                txbytes = bodyBytes.authInfoBytes ? TxRaw.encode(bodyBytes).finish() : bodyBytes;\n                txString = toBase64(txbytes);\n                txRaw = {\n                  tx_bytes: txString,\n                  mode: 'BROADCAST_MODE_SYNC' // BROADCAST_MODE_SYNC, BROADCAST_MODE_BLOCK, BROADCAST_MODE_ASYNC\n\n                };\n                return _context54.abrupt(\"return\", this.post('/cosmos/tx/v1beta1/txs', txRaw, config).then(function (res) {\n                  if (res.code && res.code !== 0) {\n                    throw new Error(res.message);\n                  }\n\n                  if (res.tx_response && res.tx_response.code !== 0) {\n                    throw new Error(res.tx_response.raw_log);\n                  }\n\n                  return res;\n                }));\n\n              case 5:\n              case \"end\":\n                return _context54.stop();\n            }\n          }\n        }, _callee54, this);\n      }));\n\n      function broadcastTx(_x39) {\n        return _broadcastTx.apply(this, arguments);\n      }\n\n      return broadcastTx;\n    }()\n  }, {\n    key: \"post\",\n    value: function () {\n      var _post = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee55() {\n        var url,\n            data,\n            config,\n            conf,\n            index,\n            response,\n            _args55 = arguments;\n        return regeneratorRuntime.wrap(function _callee55$(_context55) {\n          while (1) {\n            switch (_context55.prev = _context55.next) {\n              case 0:\n                url = _args55.length > 0 && _args55[0] !== undefined ? _args55[0] : '';\n                data = _args55.length > 1 && _args55[1] !== undefined ? _args55[1] : {};\n                config = _args55.length > 2 && _args55[2] !== undefined ? _args55[2] : null;\n\n                if (!config) {\n                  this.getSelectedConfig();\n                }\n\n                conf = config || this.config;\n                index = this.getApiIndex(config); // Default options are marked with *\n\n                _context55.next = 8;\n                return _fetch((Array.isArray(conf.api) ? conf.api[index] : conf.api) + url, {\n                  method: 'POST',\n                  // *GET, POST, PUT, DELETE, etc.\n                  // mode: 'cors', // no-cors, *cors, same-origin\n                  // credentials: 'same-origin', // redirect: 'follow', // manual, *follow, error\n                  // referrerPolicy: 'origin', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n                  headers: {\n                    'Content-Type': 'text/plain',\n                    Accept: '*/*',\n                    'Accept-Encoding': 'gzip, deflate, br'\n                  },\n                  body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n\n                });\n\n              case 8:\n                response = _context55.sent;\n                return _context55.abrupt(\"return\", response.json());\n\n              case 10:\n              case \"end\":\n                return _context55.stop();\n            }\n          }\n        }, _callee55, this);\n      }));\n\n      function post() {\n        return _post.apply(this, arguments);\n      }\n\n      return post;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee56(url) {\n        var config,\n            fetch_on_provider,\n            conf,\n            finalurl,\n            _args56 = arguments;\n        return regeneratorRuntime.wrap(function _callee56$(_context56) {\n          while (1) {\n            switch (_context56.prev = _context56.next) {\n              case 0:\n                config = _args56.length > 1 && _args56[1] !== undefined ? _args56[1] : null;\n                fetch_on_provider = _args56.length > 2 && _args56[2] !== undefined ? _args56[2] : false;\n\n                if (!config) {\n                  this.getSelectedConfig();\n                }\n\n                conf = config || this.config;\n\n                if (!(fetch_on_provider && conf.provider_chain)) {\n                  _context56.next = 6;\n                  break;\n                }\n\n                return _context56.abrupt(\"return\", _fetch(\"\".concat(conf.provider_chain.api).concat(url)).then(function (response) {\n                  return response.json();\n                }));\n\n              case 6:\n                finalurl = (Array.isArray(conf.api) ? conf.api[this.getApiIndex(config)] : conf.api) + url; // finalurl = finalurl.replaceAll('v1beta1', this.getEndpointVersion())\n\n                return _context56.abrupt(\"return\", _fetch(finalurl).then(function (response) {\n                  return response.json();\n                }));\n\n              case 8:\n              case \"end\":\n                return _context56.stop();\n            }\n          }\n        }, _callee56, this);\n      }));\n\n      function get(_x40) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getApiIndex\",\n    value: function getApiIndex() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var conf = config || this.config;\n      var index = Number(localStorage.getItem(\"\".concat(conf.chain_name, \"-api-index\")) || 0);\n      return index < conf.api.length ? index : 0;\n    }\n  }, {\n    key: \"getUrl\",\n    value: function () {\n      var _getUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee57(url) {\n        return regeneratorRuntime.wrap(function _callee57$(_context57) {\n          while (1) {\n            switch (_context57.prev = _context57.next) {\n              case 0:\n                this.getSelectedConfig();\n                return _context57.abrupt(\"return\", _fetch(url).then(function (res) {\n                  return res.json();\n                }));\n\n              case 2:\n              case \"end\":\n                return _context57.stop();\n            }\n          }\n        }, _callee57, this);\n      }));\n\n      function getUrl(_x41) {\n        return _getUrl.apply(this, arguments);\n      }\n\n      return getUrl;\n    }()\n  }], [{\n    key: \"getBankBalance\",\n    value: function () {\n      var _getBankBalance = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee58(baseurl, address) {\n        return regeneratorRuntime.wrap(function _callee58$(_context58) {\n          while (1) {\n            switch (_context58.prev = _context58.next) {\n              case 0:\n                return _context58.abrupt(\"return\", ChainFetch.fetch(baseurl, '/cosmos/bank/v1beta1/balances/'.concat(address)).then(function (data) {\n                  return commonProcess(data);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context58.stop();\n            }\n          }\n        }, _callee58);\n      }));\n\n      function getBankBalance(_x42, _x43) {\n        return _getBankBalance.apply(this, arguments);\n      }\n\n      return getBankBalance;\n    }()\n  }, {\n    key: \"fetchCoinMarketCap\",\n    value: function () {\n      var _fetchCoinMarketCap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee59(url) {\n        var host;\n        return regeneratorRuntime.wrap(function _callee59$(_context59) {\n          while (1) {\n            switch (_context59.prev = _context59.next) {\n              case 0:\n                host = 'https://price.ping.pub';\n                return _context59.abrupt(\"return\", _fetch(host + url).then(function (response) {\n                  return response.json();\n                }));\n\n              case 2:\n              case \"end\":\n                return _context59.stop();\n            }\n          }\n        }, _callee59);\n      }));\n\n      function fetchCoinMarketCap(_x44) {\n        return _fetchCoinMarketCap.apply(this, arguments);\n      }\n\n      return fetchCoinMarketCap;\n    }()\n  }, {\n    key: \"fetchTokenQuote\",\n    value: function () {\n      var _fetchTokenQuote = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee60(symbol) {\n        return regeneratorRuntime.wrap(function _callee60$(_context60) {\n          while (1) {\n            switch (_context60.prev = _context60.next) {\n              case 0:\n                return _context60.abrupt(\"return\", ChainFetch.fetchCoinMarketCap(\"/quote/\".concat(symbol)));\n\n              case 1:\n              case \"end\":\n                return _context60.stop();\n            }\n          }\n        }, _callee60);\n      }));\n\n      function fetchTokenQuote(_x45) {\n        return _fetchTokenQuote.apply(this, arguments);\n      }\n\n      return fetchTokenQuote;\n    }()\n  }, {\n    key: \"fetch\",\n    value: function fetch(host, url) {\n      var ret = _fetch((Array.isArray(host) ? host[0] : host) + url).then(function (response) {\n        return response.json();\n      });\n\n      return ret;\n    }\n  }]);\n\n  return ChainFetch;\n}(); // export default chainAPI\n\n\nexport { ChainFetch as default };","map":null,"metadata":{},"sourceType":"module"}