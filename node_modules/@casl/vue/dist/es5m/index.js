import n from"vue";var t=n.extend({name:"Can",functional:!0,props:{I:String,do:String,a:[String,Function],an:[String,Function],this:[String,Function,Object],on:[String,Function,Object],not:Boolean,passThrough:Boolean,field:String},render:function(n,t){var e=t.props,i=t.children,r=t.parent,o=t.data,a=e,u=(a.I||a.do||"").split(" "),c=u[0],s=u[1],f=a.of||a.an||a.a||a.this||a.on;if(!c)throw new Error("[Vue Can]: neither `I` nor `do` prop was passed in <Can>");var l=r.$can(c,f,s),p=e.not?!l:l;if(!e.passThrough)return p?i:[];if(!o.scopedSlots||!o.scopedSlots.default)throw new Error("[Vue Can]: `passThrough` expects default scoped slot to be specified");return o.scopedSlots.default({allowed:p,ability:r.$ability})}}),e=new WeakMap;function i(n,t){if(e.has(t))return e.get(t);var i={t:!0},r="function"==typeof n.observable?n.observable(i):new n({data:i});return t.on("updated",(function(){r.t=!r.t})),e.set(t,r),r}function r(n,t){var e;Object.defineProperty(n.prototype,"$ability",(e=t)?{value:e}:{get:function(){throw new Error("Please provide `Ability` instance either in `abilitiesPlugin` or in ComponentOptions")}}),n.mixin({beforeCreate:function(){var n=this.$options,t=n.ability,e=n.parent,i=t||(e?e.$ability:null);i&&Object.defineProperty(this,"$ability",{value:i})},methods:{$can:function(){var t,e=i(n,this.$ability);return e.t=e.t,(t=this.$ability).can.apply(t,arguments)}}})}export{t as Can,r as abilitiesPlugin};
//# sourceMappingURL=index.js.map
