!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],n):n(((e=e||self).casl=e.casl||{},e.casl.vue={}),e.Vue)}(this,(function(e,n){"use strict";var t=(n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n).extend({name:"Can",functional:!0,props:{I:String,do:String,a:[String,Function],an:[String,Function],this:[String,Function,Object],on:[String,Function,Object],not:Boolean,passThrough:Boolean,field:String},render:function(e,n){var t=n.props,i=n.children,o=n.parent,r=n.data,u=t,a=(u.I||u.do||"").split(" "),c=a[0],f=a[1],s=u.of||u.an||u.a||u.this||u.on;if(!c)throw new Error("[Vue Can]: neither `I` nor `do` prop was passed in <Can>");var l=o.$can(c,s,f),d=t.not?!l:l;if(!t.passThrough)return d?i:[];if(!r.scopedSlots||!r.scopedSlots.default)throw new Error("[Vue Can]: `passThrough` expects default scoped slot to be specified");return r.scopedSlots.default({allowed:d,ability:o.$ability})}}),i=new WeakMap;function o(e,n){if(i.has(n))return i.get(n);var t={t:!0},o="function"==typeof e.observable?e.observable(t):new e({data:t});return n.on("updated",(function(){o.t=!o.t})),i.set(n,o),o}e.Can=t,e.abilitiesPlugin=function(e,n){var t;Object.defineProperty(e.prototype,"$ability",(t=n)?{value:t}:{get:function(){throw new Error("Please provide `Ability` instance either in `abilitiesPlugin` or in ComponentOptions")}}),e.mixin({beforeCreate:function(){var e=this.$options,n=e.ability,t=e.parent,i=n||(t?t.$ability:null);i&&Object.defineProperty(this,"$ability",{value:i})},methods:{$can:function(){var n,t=o(e,this.$ability);return t.t=t.t,(n=this.$ability).can.apply(n,arguments)}}})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
