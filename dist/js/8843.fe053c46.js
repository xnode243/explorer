"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[8843],{38843:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-alert",{attrs:{variant:"danger",show:t.syncing}},[a("div",{staticClass:"alert-body"},[a("span",[t._v("No new blocks have been produced since "),a("strong",[t._v(t._s(t.latestTime))])])])]),a("b-row",[a("b-col",[a("parameters-module-component",{attrs:{data:t.chain}})],1)],1),a("b-row",[a("b-col",[a("parameters-module-component",{attrs:{data:t.mint}})],1)],1),a("b-row",[a("b-col",[a("parameters-module-component",{attrs:{data:t.staking}})],1)],1),t.gov.items.length>0?a("b-row",[a("b-col",[a("parameters-module-component",{attrs:{data:t.gov}})],1)],1):t._e(),a("b-row",[a("b-col",[a("parameters-module-component",{attrs:{data:t.distribution}})],1)],1),a("b-row",[a("b-col",[a("parameters-module-component",{attrs:{data:t.slashing}})],1)],1),a("b-card",{attrs:{title:"Application Version"}},[a("object-field-component",{attrs:{tablefield:t.appVersion}})],1),a("b-card",{attrs:{title:"Node Information"}},[a("object-field-component",{attrs:{tablefield:t.nodeVersion}})],1)],1)},n=[],r=a(26253),s=a(50725),o=a(73106),l=a(8775),d=a(54333),c=a(10500),m=a(49376),b={components:{BRow:r.T,BCol:s.l,BAlert:o.F,BCard:l._,ParametersModuleComponent:c.Z,ObjectFieldComponent:m.Z},data(){return{syncing:!1,latestTime:"",marketData:null,chain:{title:"",class:"border-primary",items:[{subtitle:"height",icon:"BoxIcon",color:"light-success"},{subtitle:"bonded_and_supply",icon:"DollarSignIcon",color:"light-danger"},{subtitle:"bonded_ratio",icon:"PercentIcon",color:"light-warning"},{subtitle:"inflation",icon:"TrendingUpIcon",color:"light-primary"}]},staking:{title:"Staking Parameters",items:[]},distribution:{title:"Distribution Parameters",items:[]},slashing:{title:"Slashing Parameters",items:null},mint:{title:"Mint Parameters",items:null},gov:{title:"Governance Parameters",items:[]},appVersion:null,nodeVersion:null}},created(){this.$http.getLatestBlock().then((t=>{const e=this.chain.items.findIndex((t=>"height"===t.subtitle));this.$set(this.chain,"title",`Chain ID: ${t.block.header.chain_id}`),this.$set(this.chain.items[e],"title",t.block.header.height),(0,d.timeIn)(t.block.header.time,3,"m")?this.syncing=!0:this.syncing=!1,this.latestTime=(0,d.toDay)(t.block.header.time,"long")})),this.$http.getStakingParameters().then((t=>{this.staking=this.normalize(t,"Staking Parameters"),Promise.all([this.$http.getStakingPool(),this.$http.getBankTotal(t.bond_denom)]).then((e=>{const a=this.chain.items.findIndex((t=>"bonded_and_supply"===t.subtitle));this.$set(this.chain.items[a],"title",`${(0,d.formatNumber)((0,d.formatTokenAmount)(e[0].bondedToken,2,t.bond_denom,!1),!0,0)}/${(0,d.formatNumber)((0,d.formatTokenAmount)(e[1].amount,2,t.bond_denom,!1),!0,0)}`);const i=this.chain.items.findIndex((t=>"bonded_ratio"===t.subtitle));this.$set(this.chain.items[i],"title",`${(0,d.percent)(e[0].bondedToken/e[1].amount)}%`)}))})),this.$http.getSlashingParameters().then((t=>{this.slashing=this.normalize(t,"Slashing Parameters")}));const t=this.$http.getSelectedConfig();t.excludes&&t.excludes.indexOf("mint")>-1?this.mint=null:(this.$http.getMintingInflation().then((t=>{const e=this.chain.items.findIndex((t=>"inflation"===t.subtitle));this.$set(this.chain.items[e],"title",`${(0,d.percent)(t)}%`)})),this.$http.getMintParameters().then((t=>{this.mint=this.normalize(t,"Minting Parameters")}))),this.$http.getDistributionParameters().then((t=>{this.distribution=this.normalize(t,"Distribution Parameters")})),t.excludes&&t.excludes.indexOf("governance")>-1?this.gov.items=[]:Promise.all([this.$http.getGovernanceParameterDeposit(),this.$http.getGovernanceParameterTallying(),this.$http.getGovernanceParameterVoting()]).then((t=>{let e=[];t.forEach((t=>{const a=this.normalize(t,"").items;e=e.concat(a)})),this.gov.items=e,this.$set(this.gov,"items",e)})),this.$http.getNodeInfo().then((t=>{this.appVersion=t.application_version,this.nodeVersion=t.default_node_info}))},methods:{normalize(t,e){if(!t)return null;const a=this.makeItems(t);return{title:e,items:a}},makeItems(t){return Object.keys(t).map((e=>(0,d.isToken)(t[e])?{title:(0,d.tokenFormatter)(t[e]),subtitle:e}:"boolean"===typeof t[e]?{title:t[e],subtitle:e}:{title:this.convert(t[e]),subtitle:e}))},convert(t){if("object"===typeof t){const e={};return Object.entries(t).forEach((t=>{const a=t[0],i=t[1];e[a]=this.convert(i)})),e}const e=parseFloat(t);return 0===e?"0":e<1.01?`${(0,d.percent)(e)}%`:e>1e9?`${(0,d.toDuration)(e/1e6)}`:e>0?e.toFixed():t}}},u=b,h=a(1001),p=(0,h.Z)(u,i,n,!1,null,null,null),f=p.exports},9644:function(t,e,a){a.d(e,{Z:function(){return m}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return Array.isArray(t.items)?a("b-table",{staticClass:"ml-0 mr-0 dataview text-nowrap",attrs:{items:t.items,"sticky-header":!0,"no-border-collapse":!0,responsive:"md"},scopedSlots:t._u([{key:"cell()",fn:function(e){return[t.isTokenField(e.value)?a("span",[t._v(t._s(t.formatTokens(e.value)))]):t.isHex(e.value)?a("span",[t._v(t._s(t.formatHexAddress(e.value)))]):t.isArrayText(e.value)?a("array-field-component",{attrs:{tablefield:t.eval_value(e.value)}}):a("span",{attrs:{title:e.value}},[t._v(t._s(t.formatText(e.value)))])]}}],null,!1,3233310829)}):t._e()},n=[],r=a(67566),s=a(54333),o={name:"ArrayFieldComponent",components:{BTable:r.h},props:{tablefield:{type:[Array,Object],default:()=>[]}},computed:{items(){return this.tablefield.length>0&&"string"===typeof this.tablefield[0]?this.tablefield.map((t=>({array:t}))):this.tablefield}},methods:{eval_value(t){return"string"===typeof t?JSON.parse(t):t},isTokenField(t){return(0,s.isToken)(t)},isArrayText(t){const e=String(t).startsWith("[")&&String(t).endsWith("]");return e},formatText(t){const e=/^\d{4}.\d{1,2}.\d{1,2}T\d{2}:\d{2}:.+Z$/,a=/^0\.\d+/;return e.test(t)?(0,s.toDay)(t):a.test(t)?`${(0,s.percent)(t)}%`:t},formatTokens(t){return(0,s.tokenFormatter)(t)},isHex(t){return(0,s.isHexAddress)(t)},formatHexAddress(t){return(0,s.getStakingValidatorByHex)(this.$http.config.chain_name,t)}}},l=o,d=a(1001),c=(0,d.Z)(l,i,n,!1,null,"3a881559",null),m=c.exports},49376:function(t,e,a){a.d(e,{Z:function(){return y}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"object"===typeof t.tablefield?a("b-table-simple",{attrs:{hover:"",small:t.small,striped:"",stacked:"sm",responsive:"sm"}},[a("b-tbody",t._l(t.tablefield,(function(e,i){return a("b-tr",{key:i},[a("b-td",{staticStyle:{"text-transform":"capitalize","vertical-align":"top"}},[t._v(" "+t._s(t.formatTitle(i))+" ")]),t.isTokenField(e)?a("b-td",[t._v(" "+t._s(t.formatTokens(e))+" ")]):t.isArrayText(e)?a("b-td",[t._v(" "+t._s(e.join(", "))+" ")]):t.isHex(e)?a("b-td",[t._v(" "+t._s(t.formatHexAddress(e))+" ")]):Array.isArray(e)?a("b-td",[a("array-field-component",{attrs:{tablefield:e}})],1):"object"===typeof e?a("b-td",{staticClass:"overflow-hidden",attrs:{hover:""}},[e?a("b-tabs",{attrs:{small:""}},t._l(Object.keys(e),(function(i){return a("b-tab",{key:i,staticClass:"p-0",attrs:{title:t.formatTitle(i),"title-item-class":"bg-light-primary text-capitalize"}},[Array.isArray(e[i])?a("array-field-component",{attrs:{tablefield:e[i]}}):"object"===typeof e[i]?a("object-field-component",{attrs:{tablefield:e[i]}}):t.isObjectText(e[i])?a("object-field-component",{attrs:{tablefield:t.toObject(e[i])}}):a("div",{staticStyle:{"max-width":"800px","max-height":"300px",overflow:"auto"}},[t._v(t._s(e[i]))])],1)})),1):t._e()],1):a("b-td",["description"===i?a("VueMarkdown",[t._v(" "+t._s(t.addNewLine(e))+" ")]):a("div",{staticStyle:{"max-width":"800px","max-height":"300px",overflow:"auto"}},[t._v(t._s(e))])],1)],1)})),1)],1):t._e()},n=[],r=a(85589),s=a(92095),o=a(66456),l=a(58887),d=a(51015),c=a(80560),m=a(54333),b=a(89296),u=a.n(b),h=a(9644),p={name:"ObjectFieldComponent",components:{BTableSimple:r.t,BTr:s.G,BTd:o.S,BTabs:l.M,BTab:d.L,BTbody:c.p,ArrayFieldComponent:h.Z,VueMarkdown:u()},props:{tablefield:{type:[Array,Object],default:()=>{}},small:{type:Boolean,default:!0}},data(){return{options:{markdownIt:{linkify:!0},linkAttributes:{attrs:{target:"_blank",rel:"noopener"}}}}},methods:{formatObject(t){return t},formatTitle:t=>String(t).replaceAll("_"," "),isObjectText(t){return String(t).startsWith("{")&&String(t).endsWith("}")},toObject(t){return JSON.parse(t)},formatText:t=>(0,m.abbr)(t,60),eval_value(t){return Array.from(t)},isTokenField(t){return!!t&&(0,m.isToken)(t)},isHex(t){return!!t&&(0,m.isHexAddress)(t)},formatHexAddress(t){return(0,m.getStakingValidatorByHex)(this.$http.config.chain_name,t)},isArrayText(t){return!!t&&(0,m.isStringArray)(t)},formatTokens(t){return(0,m.tokenFormatter)(t)},addNewLine(t){const e=/^0\.\d+/;return e.test(t)?`${(0,m.percent)(t)}%`:t?t.replace(/(?:\\[rn])+/g,"\n"):"-"}}},f=p,g=a(1001),v=(0,g.Z)(f,i,n,!1,null,"08f8a3cd",null),y=v.exports},10500:function(t,e,a){a.d(e,{Z:function(){return $}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.items?a("b-card",{class:"card-statistics "+t.data.class+" ",attrs:{"no-body":""}},[a("b-card-header",[a("b-card-title",[t._v(t._s(t.data.title))])],1),a("b-card-body",{staticClass:"statistics-body"},[a("b-row",t._l(t.data.items,(function(e){return a("b-col",{key:e.icon,class:e.customClass,attrs:{xl:"3",md:"6",sm:"6"}},["object"===typeof e.title?a("div",[a("b-button",{staticClass:"ml-2",attrs:{id:e.subtitle,variant:"outline-primary",size:"sm"}},[t._v(" "+t._s(e.subtitle)+" ")]),a("b-popover",{attrs:{target:e.subtitle,variant:"primary",triggers:"hover",placement:"bottom"},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",[t._v(t._s(e.subtitle))])]},proxy:!0}],null,!0)},[a("span",[Array.isArray(e.title)?a("array-field-component",{attrs:{tablefield:e.title}}):a("object-field-component",{attrs:{tablefield:e.title}})],1)])],1):a("b-media",{attrs:{"no-body":""}},[a("b-media-aside",{staticClass:"mr-2"},[e.icon?a("b-avatar",{attrs:{size:"48",variant:e.color}},[a("feather-icon",{attrs:{size:"24",icon:e.icon}})],1):t._e()],1),a("b-media-body",{staticClass:"my-auto"},[a("h4",{staticClass:"font-weight-bolder mb-0"},[t._v(" "+t._s(e.title||"-")+" ")]),a("b-card-text",{staticClass:"font-small-3 mb-1 text-capitalize"},[t._v(" "+t._s(e.subtitle)+" ")])],1)],1)],1)})),1)],1)],1):t._e()},n=[],r=a(26253),s=a(50725),o=a(8775),l=a(87047),d=a(49379),c=a(64206),m=a(40670),b=a(72775),u=a(47389),h=a(87272),p=a(81843),f=a(19113),g=a(15193),v=a(49376),y=a(9644),_={components:{BRow:r.T,BCol:s.l,BCard:o._,BCardHeader:l.p,BCardTitle:d._,BCardText:c.j,BCardBody:m.O,BMedia:b.P,BAvatar:u.SH,BMediaAside:h.D,BMediaBody:p.D,BPopover:f.x,BButton:g.T,ObjectFieldComponent:v.Z,ArrayFieldComponent:y.Z},props:{data:{type:[Object,Array],default:()=>{}}}},k=_,x=a(1001),T=(0,x.Z)(k,i,n,!1,null,null,null),$=T.exports}}]);