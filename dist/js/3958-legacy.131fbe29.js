"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[3958],{53958:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",[n("b-card-title",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("#"+t._s(t.height))]),n("span",[n("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.goblock(t.height-1)}}},[t._v(" < ")]),t._v(" "),n("b-button",{attrs:{size:"sm"},on:{click:function(e){t.goblock(Number(t.height)+1)}}},[t._v(" > ")])],1)]),n("object-field-component",{attrs:{tablefield:t.block.block_id}})],1),n("b-card",{attrs:{title:"Block Header"}},[n("object-field-component",{attrs:{tablefield:t.block.block.header}})],1),t.block.block.data.txs?n("b-card",{attrs:{title:"Transaction"}},[n("b-table",{attrs:{items:t.txs,fields:t.fields,responsive:"sm"},scopedSlots:t._u([{key:"cell(hash)",fn:function(e){return[n("router-link",{attrs:{to:"../tx/"+e.value}},[t._v(" "+t._s(e.value)+" ")])]}}],null,!1,3589811377)})],1):t._e(),t.block.block.evidence.evidence?n("b-card",{attrs:{title:"Evidence"}},[n("array-field-component",{attrs:{tablefield:t.block.block.evidence.evidence}})],1):t._e(),n("b-card",{attrs:{title:"Last Commit"}},[n("object-field-component",{attrs:{tablefield:t.block.block.last_commit,small:!0}})],1)],1)},a=[],i=n(15193),o=n(8775),s=n(67566),l=n(49379),c=n(28972),u=n(74087),d=n(97826),f=n(54333),b=n(49376),m=n(9644),h={components:{BButton:i.T,BCard:o._,BTable:s.h,BCardTitle:l._,ObjectFieldComponent:b.Z,ArrayFieldComponent:m.Z},beforeRouteUpdate:function(t,e,n){var r=t.params.height;r>0&&r!==e.params.height&&(this.initData(r),n())},data:function(){return{block:{block:{header:{},data:{},evidence:{}}},txs:null,height:0,fields:[{key:"hash"},{key:"fee",formatter:function(t){return(0,f.tokenFormatter)(t)}},{key:"messages",formatter:function(t){return(0,f.abbrMessage)(t)}},{key:"memo"}]}},created:function(){var t=this.$route.params.height;this.initData(t)},methods:{initData:function(t){var e=this;this.height=t,this.$http.getBlockByHeight(t).then((function(t){e.block=t;var n=t.block.data.txs;if(null!==n){for(var r=[],a=0;a<n.length;a+=1){var i=new d.Z;try{var o=(0,u.decodeTxRaw)((0,c.fromBase64)(n[a]));i=d.Z.create(o)}catch(s){}i.setHash(n[a]),r.push(i)}r.length>0&&(e.txs=r)}}))},goblock:function(t){this.$router.push({name:"block",params:{height:t}})}}},p=h,v=n(1001),k=(0,v.Z)(p,r,a,!1,null,null,null),y=k.exports},9644:function(t,e,n){n.d(e,{Z:function(){return d}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return Array.isArray(t.items)?n("b-table",{staticClass:"ml-0 mr-0 dataview text-nowrap",attrs:{items:t.items,"sticky-header":!0,"no-border-collapse":!0,responsive:"md"},scopedSlots:t._u([{key:"cell()",fn:function(e){return[t.isTokenField(e.value)?n("span",[t._v(t._s(t.formatTokens(e.value)))]):t.isHex(e.value)?n("span",[t._v(t._s(t.formatHexAddress(e.value)))]):t.isArrayText(e.value)?n("array-field-component",{attrs:{tablefield:t.eval_value(e.value)}}):n("span",{attrs:{title:e.value}},[t._v(t._s(t.formatText(e.value)))])]}}],null,!1,3233310829)}):t._e()},a=[],i=(n(21249),n(23157),n(27852),n(74916),n(77601),n(67566)),o=n(54333),s={name:"ArrayFieldComponent",components:{BTable:i.h},props:{tablefield:{type:[Array,Object],default:function(){return[]}}},computed:{items:function(){return this.tablefield.length>0&&"string"===typeof this.tablefield[0]?this.tablefield.map((function(t){return{array:t}})):this.tablefield}},methods:{eval_value:function(t){return"string"===typeof t?JSON.parse(t):t},isTokenField:function(t){return(0,o.isToken)(t)},isArrayText:function(t){var e=String(t).startsWith("[")&&String(t).endsWith("]");return e},formatText:function(t){var e=/^\d{4}.\d{1,2}.\d{1,2}T\d{2}:\d{2}:.+Z$/,n=/^0\.\d+/;return e.test(t)?(0,o.toDay)(t):n.test(t)?"".concat((0,o.percent)(t),"%"):t},formatTokens:function(t){return(0,o.tokenFormatter)(t)},isHex:function(t){return(0,o.isHexAddress)(t)},formatHexAddress:function(t){return(0,o.getStakingValidatorByHex)(this.$http.config.chain_name,t)}}},l=s,c=n(1001),u=(0,c.Z)(l,r,a,!1,null,"3a881559",null),d=u.exports},49376:function(t,e,n){n.d(e,{Z:function(){return y}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"object"===typeof t.tablefield?n("b-table-simple",{attrs:{hover:"",small:t.small,striped:"",stacked:"sm",responsive:"sm"}},[n("b-tbody",t._l(t.tablefield,(function(e,r){return n("b-tr",{key:r},[n("b-td",{staticStyle:{"text-transform":"capitalize","vertical-align":"top"}},[t._v(" "+t._s(t.formatTitle(r))+" ")]),t.isTokenField(e)?n("b-td",[t._v(" "+t._s(t.formatTokens(e))+" ")]):t.isArrayText(e)?n("b-td",[t._v(" "+t._s(e.join(", "))+" ")]):t.isHex(e)?n("b-td",[t._v(" "+t._s(t.formatHexAddress(e))+" ")]):Array.isArray(e)?n("b-td",[n("array-field-component",{attrs:{tablefield:e}})],1):"object"===typeof e?n("b-td",{staticClass:"overflow-hidden",attrs:{hover:""}},[e?n("b-tabs",{attrs:{small:""}},t._l(Object.keys(e),(function(r){return n("b-tab",{key:r,staticClass:"p-0",attrs:{title:t.formatTitle(r),"title-item-class":"bg-light-primary text-capitalize"}},[Array.isArray(e[r])?n("array-field-component",{attrs:{tablefield:e[r]}}):"object"===typeof e[r]?n("object-field-component",{attrs:{tablefield:e[r]}}):t.isObjectText(e[r])?n("object-field-component",{attrs:{tablefield:t.toObject(e[r])}}):n("div",{staticStyle:{"max-width":"800px","max-height":"300px",overflow:"auto"}},[t._v(t._s(e[r]))])],1)})),1):t._e()],1):n("b-td",["description"===r?n("VueMarkdown",[t._v(" "+t._s(t.addNewLine(e))+" ")]):n("div",{staticStyle:{"max-width":"800px","max-height":"300px",overflow:"auto"}},[t._v(t._s(e))])],1)],1)})),1)],1):t._e()},a=[],i=(n(74916),n(15306),n(68757),n(23157),n(27852),n(91038),n(78783),n(77601),n(85589)),o=n(92095),s=n(66456),l=n(58887),c=n(51015),u=n(80560),d=n(54333),f=n(89296),b=n.n(f),m=n(9644),h={name:"ObjectFieldComponent",components:{BTableSimple:i.t,BTr:o.G,BTd:s.S,BTabs:l.M,BTab:c.L,BTbody:u.p,ArrayFieldComponent:m.Z,VueMarkdown:b()},props:{tablefield:{type:[Array,Object],default:function(){}},small:{type:Boolean,default:!0}},data:function(){return{options:{markdownIt:{linkify:!0},linkAttributes:{attrs:{target:"_blank",rel:"noopener"}}}}},methods:{formatObject:function(t){return t},formatTitle:function(t){return String(t).replaceAll("_"," ")},isObjectText:function(t){return String(t).startsWith("{")&&String(t).endsWith("}")},toObject:function(t){return JSON.parse(t)},formatText:function(t){return(0,d.abbr)(t,60)},eval_value:function(t){return Array.from(t)},isTokenField:function(t){return!!t&&(0,d.isToken)(t)},isHex:function(t){return!!t&&(0,d.isHexAddress)(t)},formatHexAddress:function(t){return(0,d.getStakingValidatorByHex)(this.$http.config.chain_name,t)},isArrayText:function(t){return!!t&&(0,d.isStringArray)(t)},formatTokens:function(t){return(0,d.tokenFormatter)(t)},addNewLine:function(t){var e=/^0\.\d+/;return e.test(t)?"".concat((0,d.percent)(t),"%"):t?t.replace(/(?:\\[rn])+/g,"\n"):"-"}}},p=h,v=n(1001),k=(0,v.Z)(p,r,a,!1,null,"08f8a3cd",null),y=k.exports},97826:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(76133),a=n(92751),i=n(79562),o=n(28972),s=n(62173),l=function(){function t(){(0,r.Z)(this,t),this.hash="",this.fee=[new s.Z],this.memo="",this.messages=[],this.signatures=[],this.time=null}return(0,a.Z)(t,[{key:"setHash",value:function(t){this.hash=(0,o.toHex)((0,i.sha256)((0,o.fromBase64)(t))).toUpperCase()}}],[{key:"create",value:function(e){var n=new t;return n.hash="",n.fee=e.authInfo.fee.amount,n.memo=e.body.memo,n.messages=e.body.messages,n.signatures=e.signatures,n}}]),t}()}}]);