"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[3721],{87608:function(t,e,a){a.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toastification"},[a("div",{staticClass:"d-flex align-items-start"},[a("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[a("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),a("div",{staticClass:"d-flex flex-grow-1"},[a("div",[t.title?a("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?a("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),a("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():a("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},s=[],r=a(47389),o={components:{BAvatar:r.SH},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},i=o,l=a(1001),c=(0,l.Z)(i,n,s,!1,null,"55dd3057",null),u=c.exports},33721:function(t,e,a){a.r(e),a.d(e,{default:function(){return it}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{className:"container-md"}},[a("b-row",{staticClass:"match-height"},[a("b-col",{attrs:{md:"8",sm:"12"}},[a("b-card",[a("b-row",{staticClass:"mb-1"},[a("b-col",{staticClass:"d-flex justify-content-begin align-items-center",attrs:{lg:"4",md:"6",sm:"12"}},[a("b-button",{attrs:{id:"popover-trading-pairs",variant:"gradient-primary"}},[a("feather-icon",{attrs:{icon:"ListIcon"}})],1),a("h4",{staticClass:"text-primary font-weight-bolder text-nowrap ml-1"},[t._v(" "+t._s(t.base)+" / "+t._s(t.target)+" ")]),a("b-popover",{staticClass:"px-0",attrs:{target:"popover-trading-pairs",placement:"rightbottom",triggers:"hover",boundary:"scrollParent","boundary-padding":"0"}},[a("b-table",{staticClass:"ml-0 pl-0",attrs:{striped:"",hover:"",fields:t.fields,small:!0,items:t.pairs},scopedSlots:t._u([{key:"cell(pair)",fn:function(e){return[a("router-link",{attrs:{to:"/osmosis/osmosis/trade/"+e.item.id}},[t._v(" "+t._s(e.item.pair[0])+"/"+t._s(e.item.pair[1])+" ")])]}},{key:"cell(price)",fn:function(e){return[a("div",{staticClass:"text-right"},[a("small",{},[t._v(t._s(e.item.price))])])]}},{key:"cell(change)",fn:function(e){return[a("div",{staticClass:"text-right"},[a("small",{class:e.item.change>0?"text-success":"text-danger"},[t._v(t._s(e.item.change)+"%")])])]}}])})],1)],1),a("b-col",{staticClass:"d-flex justify-content-begin align-items-center"},[a("div",{staticClass:"mr-3 text-success font-weight-bolder"},[t._v(" "+t._s(t.latestPrice)+" ")]),a("div",{staticClass:"mr-3"},[a("small",[t._v("24h Change")]),a("div",{class:t.changesIn24H>0?"text-success":"text-danger"},[t._v(" "+t._s(t.changesIn24H)+"% ")])]),a("div",{staticClass:"mr-3"},[a("small",[t._v("24h High")]),a("div",[t._v(t._s(t.high24))])]),a("div",[a("small",[t._v("24h Low")]),a("div",[t._v(t._s(t.low24))])])])],1),t.loading?a("div",{staticClass:"d-flex justify-content-center mt-3"},[a("b-spinner",{attrs:{label:"Loading..."}}),t._v(" "+t._s(t.error)+" ")],1):a("summary-price-chart",{attrs:{"chart-data":t.marketChartData,"min-height":150}})],1)],1),a("b-col",{attrs:{md:"4",sm:"12"}},[a("b-card",[a("Place",{attrs:{pool:t.current,"denom-trace":t.denomTrace},on:{"update:pool":function(e){t.current=e}}})],1)],1)],1)],1)},s=[],r=(a(21249),a(23157),a(56977),a(69826),a(41539),a(54747),a(26253)),o=a(50725),i=a(15193),l=a(19113),c=a(67566),u=a(1759),d=a(8775),m=a(79643),p=a(54333),h=a(22742),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-tabs",{staticClass:"nav-fill",attrs:{small:"",pills:"","nav-class":0===t.tabIndex?"nav-pill-success":"nav-pill-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"BUY","no-body":""}}),a("b-tab",{attrs:{title:"SELL","no-body":""}})],1),a("PlaceForm",{attrs:{type:t.tabIndex,pool:t.pool,"denom-trace":t.denomTrace}})],1)},b=[],v=a(51015),g=a(58887),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{attrs:{"bg-variant":"light-secondary","text-variant":"black"}},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"font-weight-bolder"},[t._v("Balance ")]),a("span",[t.currentDenom.startsWith("ibc/")?a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.trading-deposte-window",modifiers:{"trading-deposte-window":!0}}],staticClass:"text-primary",attrs:{icon:"PlusSquareIcon"}}):t._e(),a("small",[t._v(" "+t._s(t.available)+" "+t._s(0===t.type?t.target:t.base)+" ")])],1)]),a("div",{staticClass:"d-flex justify-content-between mt-1"},[a("span",{staticClass:"font-weight-bolder"},[t._v("Price")]),a("span",[t._v(t._s(t.price)+" "),a("small",{staticClass:"text-muted mx-10"},[t._v(t._s(t.target)+" ≈")]),t._v(" 1 "),a("small",{staticClass:"text-muted mx-10"},[t._v(" "+t._s(t.base))]),t._v(" ")])]),a("div",{staticClass:"d-flex justify-content-between mt-1"},[a("span",{staticClass:"font-weight-bolder"},[t._v("Swap Fee")]),a("span",[t._v(t._s(t.fee)+"%")])])]),a("b-form-group",[a("div",[a("span",[t._v("Quantity")])]),a("b-input-group",{staticClass:"input-group-merge"},[a("b-form-input",{attrs:{id:"amount",type:"number",placeholder:"Quantity"},on:{change:function(e){return t.changeAmount()}},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.base)+" ")])],1),a("b-alert",{attrs:{variant:"danger",show:1===t.type&&t.amount>t.available}},[a("div",{staticClass:"alert-body"},[t._v(" Insufficient available amount ")])])],1),a("b-form-group",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",[t._v("Volume")]),a("span",[t.localPrice>0?a("small",{staticClass:"text-muted mr-1"},[t._v("≈$"+t._s(t.localPrice))]):t._e(),a("feather-icon",{staticClass:"text-primary",attrs:{id:"popover-trading-setting",icon:"SettingsIcon"}})],1)]),a("b-input-group",{staticClass:"input-group-merge"},[a("b-form-input",{attrs:{id:"total",type:"number",placeholder:"Volume"},on:{change:function(e){return t.changeTotal()}},model:{value:t.total,callback:function(e){t.total=e},expression:"total"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.target)+" ")])],1),a("b-alert",{attrs:{variant:"danger",show:0===t.type&&t.total>t.available}},[a("div",{staticClass:"alert-body"},[t._v(" Insufficient available amount ")])])],1),a("b-popover",{staticClass:"px-0",attrs:{target:"popover-trading-setting",placement:"left",triggers:"hover",boundary:"scrollParent","boundary-padding":"0"}},[a("b-form-group",[a("label",{attrs:{for:"slip"}},[t._v(" Slippage Tolerance ")]),a("div",{attrs:{id:"slip"}},[a("b-form-radio",{attrs:{value:"0.01",button:"","button-variant":"outline-secondary"},model:{value:t.slippage,callback:function(e){t.slippage=e},expression:"slippage"}},[t._v(" 1% ")]),a("b-form-radio",{staticClass:"px-1",attrs:{value:"0.025",button:"",block:"","button-variant":"outline-secondary"},model:{value:t.slippage,callback:function(e){t.slippage=e},expression:"slippage"}},[t._v(" 2.5% ")]),a("b-form-radio",{attrs:{value:"0.05",button:"","button-variant":"outline-secondary"},model:{value:t.slippage,callback:function(e){t.slippage=e},expression:"slippage"}},[t._v(" 5% ")])],1)])],1),a("b-form-group",{attrs:{label:"Signer","label-for":"wallet"}},[a("b-form-radio-group",{attrs:{inline:""},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[a("b-form-radio",{attrs:{name:"wallet",value:"keplr"},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[a("small",[t._v("Keplr")])]),a("b-form-radio",{attrs:{name:"wallet",value:"ledgerUSB"},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[a("small",[t._v("Ledger(USB)")])]),a("b-form-radio",{staticClass:"mr-0",attrs:{name:"wallet",value:"ledgerBle"},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[a("small",[t._v("Ledger(BLE)")])])],1)],1),a("b-form-group",[t.address?a("b-button",{attrs:{block:"",disabled:0===t.type?t.total>t.available:t.amount>t.available,variant:0===t.type?"success":"danger"},on:{click:function(e){return t.sendTx()}}},[t._v(" "+t._s(0===t.type?"Buy "+t.base:"Sell "+t.base)+" ")]):a("b-button",{attrs:{to:"/wallet/import",block:"",variant:"primary"}},[t._v(" Connect Wallet ")])],1),a("b-alert",{attrs:{variant:"danger",show:t.dismissCountDown,dismissible:""},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[a("div",{staticClass:"alert-body"},[t._v(" "+t._s(t.error)+" ")])]),a("b-alert",{staticClass:"mt-2",attrs:{variant:"danger",show:""}},[a("div",{staticClass:"alert-heading"},[t._v(" Note ")]),a("div",{staticClass:"alert-body"},[t._v(" Trading is not available. will open soon. "),a("div",{staticClass:"d-none"},[t._v(" If the execution price exceeds the "+t._s(100*t.slippage)+"% slippage protection, your order will be automatically cancelled ")])])]),a("deposite-window",{attrs:{symbol:0===t.type?t.target:t.base,"denom-trace":t.denomTrace[t.currentDenom]}})],1)},w=[],x=a(16198),C=(a(35666),a(9653),a(73106)),k=a(22183),y=a(76398),B=a(87167),T=a(90224),D=a(4060),I=a(22418),A=a(87608),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"trading-deposte-window",centered:"",size:"md",title:"Cross Chain Deposit Tokens","ok-title":"Send","hide-header-close":"",scrollable:"","ok-disabled":!t.address},on:{hidden:t.resetModal,ok:t.handleOk,show:t.init},scopedSlots:t._u([{key:"modal-header",fn:function(){},proxy:!0}])},[a("validation-observer",{ref:"simpleRules"},[a("b-form",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Sender Address","label-for":"from"}},[a("validation-provider",{attrs:{rules:"required",name:"from"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-avatar",{attrs:{src:t.selectedChain.logo,size:"18",variant:"light-primary",rounded:""}})],1),a("b-form-select",{attrs:{id:"from",options:t.addressOptions,state:!(n.length>0)&&null},on:{change:function(e){return t.loadBalance()}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",{staticClass:"d-none"},[a("b-col",[a("b-form-group",{attrs:{label:"Recipient Address","label-for":"Recipient"}},[a("validation-provider",{attrs:{rules:"required",name:"recipient"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{id:"Recipient",state:!(n.length>0)&&null},model:{value:t.recipient,callback:function(e){t.recipient=e},expression:"recipient"}})],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",[t._v("Amount")]),a("span",[t.balance.amount>0?a("small",{staticClass:"mr-1"},[t._v("Available: "),a("b",{staticClass:"font-weight-bolder text-success"},[t._v(t._s(t.format(t.balance)))]),t._v(" "+t._s(t.symbol))]):t._e()])]),a("b-form-group",[a("validation-provider",{attrs:{rules:"required|regex:^([0-9\\.]+)$",name:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{id:"Amount",state:!(n.length>0)&&null,placeholder:"Input a number",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.symbol)+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Fee","label-for":"Fee"}},[a("validation-provider",{attrs:{rules:"required|integer",name:"fee"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",[a("b-form-input",{model:{value:t.fee,callback:function(e){t.fee=e},expression:"fee"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.feeDenom)+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("b-form-group",[a("b-form-checkbox",{attrs:{name:"advance",value:"true"},model:{value:t.advance,callback:function(e){t.advance=e},expression:"advance"}},[a("small",[t._v("Advanced")])])],1)],1)],1),t.advance?a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-form-group",{attrs:{label:"Gas","label-for":"gas"}},[a("validation-provider",{attrs:{name:"gas"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{id:"gas",type:"number"},model:{value:t.gas,callback:function(e){t.gas=e},expression:"gas"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}],null,!1,230813745)})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("b-form-group",{attrs:{label:"Memo","label-for":"Memo"}},[a("validation-provider",{attrs:{name:"memo"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{id:"Memo",max:"2"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}],null,!1,3795330796)})],1)],1)],1):t._e(),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Siger","label-for":"wallet"}},[a("validation-provider",{attrs:{rules:"required",name:"wallet"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-radio-group",{staticClass:"demo-inline-spacing",attrs:{stacked:""},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[a("b-form-radio",{staticClass:"d-none d-md-block",attrs:{name:"wallet",value:"keplr"},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[t._v(" Keplr ")]),a("b-form-radio",{attrs:{name:"wallet",value:"ledgerUSB"},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[a("small",[t._v("Ledger(USB)")])]),a("b-form-radio",{staticClass:"mr-0",attrs:{name:"wallet",value:"ledgerBle"},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}},[a("small",[t._v("Ledger(Bluetooth)")])])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1)],1)],1),t._v(" "+t._s(t.error)+" ")],1)],1)},q=[],$=(a(26833),a(74916),a(23123),a(12954)),F=a(47389),P=a(54391),N=a(54909),L=a(90895),j=a(65098),E=a(27754),O=a(50742),Z=a(33359),R=a(27484),M=a.n(R),z={name:"TransforDialogue",components:{BAvatar:F.SH,BModal:P.N,BRow:r.T,BCol:o.l,BForm:N.e,BInputGroup:D.w,BInputGroupAppend:I.B,BFormInput:k.e,BFormGroup:T.x,BFormSelect:L.K,BFormRadioGroup:B.Q,BFormRadio:y.g,BFormCheckbox:j.l,BInputGroupPrepend:E.P,ValidationProvider:$.d_,ValidationObserver:$._j,ToastificationContent:A.Z},props:{symbol:{type:String,default:function(){return""}},denomTrace:{type:Object,default:function(){}}},data:function(){return{address:"",addressOptions:[],chainId:"",selectedChain:"",balance:{},token:"",amount:null,memo:"",recipient:null,fee:"800",feeDenom:"",wallet:"ledgerUSB",error:null,sequence:1,accountNumber:0,account:[],IBCDenom:{},gas:"200000",advance:!1,paths:{},destination:{},channels:[],timeoutHeight:{},required:O.C1,password:O.Bj,email:O.Do,min:O.VV,integer:O._L,url:O.HQ,alpha:O.Fq,between:O.vX,digits:O.nz,length:O.kE,alphaDash:O.F8}},methods:{recipientAddress:function(){var t=this.$route.params.chain,e=(0,p.getLocalAccounts)(),a=this.$store.state.chains.defaultWallet;if(e&&e[a]){var n=e[a].address.find((function(e){return e.chain===t}));n&&(this.recipient=n.addr)}this.selectedChain=(0,m.bs)(this.symbol)},computeAccount:function(){var t=this;this.recipientAddress();var e=(0,p.getLocalAccounts)();if(this.addressOptions=[],e)for(var a=Object.values(e),n=0;n<a.length;n+=1){var s=a[n].address.find((function(e){return e.chain===t.selectedChain.chain_name}));s&&(0===this.addressOptions.length&&(this.address=s.addr),this.addressOptions.push({value:s.addr,text:s.addr}))}return[]},init:function(){var t=this;if(this.destination=null,this.token="",this.computeAccount(),this.loadBalance(),this.denomTrace){var e=this.denomTrace.path.split("/");this.$http.getIBCChannel(e[1],e[0]).then((function(e){t.destination=e.channel.counterparty,t.timeoutHeight=e.proof_height}))}},loadBalance:function(){var t=this;this.address&&(this.$http.getBankBalances(this.address,this.selectedChain).then((function(e){e&&e.length>0&&(t.balance=e.find((function(e){return(0,p.formatTokenDenom)(e.denom)===t.symbol})),t.denom=t.balance.denom,t.feeDenom=t.balance.denom)})),this.$http.getLatestBlock(this.selectedChain).then((function(e){t.chainId=e.block.header.chain_id;var a=(0,p.timeIn)(e.block.header.time,10,"m");t.error=a?"Client is not synced or blockchain is halted":null})),this.$http.getAuthAccount(this.address,this.selectedChain).then((function(e){e.value.base_vesting_account?(t.accountNumber=e.value.base_vesting_account.base_account.account_number,t.sequence=e.value.base_vesting_account.base_account.sequence,t.sequence||(t.sequence=0)):(t.accountNumber=e.value.account_number,t.sequence=e.value.sequence?e.value.sequence:0)})))},handleOk:function(t){var e=this;t.preventDefault(),this.send().then((function(t){e.error=t}))},resetModal:function(){this.feeDenom="",this.error=null},format:function(t){return(0,p.formatToken)(t,{},6,!1)},send:function(){var t=this;return(0,x.Z)(regeneratorRuntime.mark((function e(){var a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.destination){e.next=3;break}return t.error="You have to select a destination",e.abrupt("return");case 3:a=M()().add(4,"hour"),n=[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:{sourcePort:t.destination.port_id,sourceChannel:t.destination.channel_id,token:(0,Z.coin)(Number((0,p.getUnitAmount)(t.amount,t.denomTrace.base_denom)),t.denomTrace.base_denom),sender:t.address,receiver:t.recipient,timeoutTimestamp:String(1e6*a.utc().valueOf())}}],s={amount:[{amount:t.fee,denom:t.feeDenom}],gas:t.gas},r={accountNumber:t.accountNumber,sequence:t.sequence,chainId:t.chainId},(0,p.sign)(t.wallet,t.chainId,t.address,n,s,t.memo,r).then((function(e){t.$http.broadcastTx(e,t.selectedChain).then((function(e){(0,p.setLocalTxHistory)({op:"ibc_sender",hash:e.txhash,time:new Date}),t.$bvModal.hide("trading-deposte-window"),t.$toast({component:A.Z,props:{title:"Transaction sent!",icon:"EditIcon",variant:"success"}})})).catch((function(e){t.error=e}))})).catch((function(e){t.error=e}));case 8:case"end":return e.stop()}}),e)})))()}}},H=z,U=a(1001),G=(0,U.Z)(H,S,q,!1,null,null,null),V=G.exports,X=function(t){return t&&t.__esModule?t:{default:t}},W=X(a(41583)),Q={components:{BAlert:C.F,BButton:i.T,BCard:d._,BFormInput:k.e,BFormRadio:y.g,BFormRadioGroup:B.Q,BFormGroup:T.x,BPopover:l.x,BInputGroup:D.w,BInputGroupAppend:I.B,FeatherIcon:h.Z,DepositeWindow:V,ToastificationContent:A.Z},props:{type:{type:Number,required:!0},pool:{type:Object,default:function(){}},denomTrace:{type:[Array,Object],default:function(){return[]}}},data:function(){return{address:"",amount:"",total:"",slippage:.05,marks:[0,.01,.025,.05],balance:{},error:null,chainId:"osmosis-1",wallet:"keplr",dismissSecs:15,dismissCountDown:0}},computed:{base:function(){return(0,m.XC)(this.pool,this.denomTrace,"base")},target:function(){return(0,m.XC)(this.pool,this.denomTrace,"target")},price:function(){var t=this.$store.state.chains.quotes[this.base],e=this.$store.state.chains.quotes[this.target];return t&&e?(t.usd/e.usd).toFixed(4):"-"},localPrice:function(){var t=this.$store.state.chains.quotes[this.target];return t&&this.total>0?(t.usd*this.total).toFixed(2):"-"},currentDenom:function(){if(this.pool&&this.pool.poolAssets){var t=1===this.type?0:1,e=this.pool.poolAssets[t].token.denom;return e}return""},available:function(){var t=this;if(this.pool&&this.pool.poolAssets){var e=0;return Array.isArray(this.balance)&&this.balance.forEach((function(a){a.denom===t.currentDenom&&(e=a.amount)})),(0,p.formatTokenAmount)(e,6,this.currentDenom)}return 0},fee:function(){var t,e;return(0,p.percent)((null===(t=this.pool)||void 0===t||null===(e=t.poolParams)||void 0===e?void 0:e.swapFee)||"")}},created:function(){var t=this;this.initialAddress(),this.$http.getBankBalances(this.address).then((function(e){e&&e.length>0&&(t.balance=e)})),this.$http.getAuthAccount(this.address,this.selectedChain).then((function(e){e.value.base_vesting_account?(t.accountNumber=e.value.base_vesting_account.base_account.account_number,t.sequence=e.value.base_vesting_account.base_account.sequence,t.sequence||(t.sequence=0)):(t.accountNumber=e.value.account_number,t.sequence=e.value.sequence?e.value.sequence:0)}))},methods:{initialAddress:function(){var t=this.$route.params.chain,e=(0,p.getLocalAccounts)(),a=this.$store.state.chains.defaultWallet;if(e&&e[a]){var n=e[a].address.find((function(e){return e.chain===t}));n&&(this.address=n.addr)}},formatAvailable:function(){},changeAmount:function(){this.total=parseFloat((this.amount*this.price).toFixed(6))},changeTotal:function(){this.amount=parseFloat((this.total/this.price).toFixed(6))},sendTx:function(){var t=this;return(0,x.Z)(regeneratorRuntime.mark((function e(){var a,n,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.pool.poolAssets[0===t.type?0:1].token.denom,n=t.pool.poolAssets[0===t.type?1:0].token.denom,s=[{typeUrl:"/osmosis.gamm.v1beta1.MsgSwapExactAmountIn",value:{sender:t.address,routes:[{poolId:W.default.fromString(t.pool.id),tokenOutDenom:a}],tokenIn:{denom:n,amount:W.default.fromNumber(parseInt(1e6*t.amount,10))},tokenOutMinAmount:W.default.fromNumber(parseInt(1e6*t.total,10))}}],0!==s.length){e.next=7;break}return t.error="No delegation found",t.dismissCountDown=t.dismissSecs,e.abrupt("return","");case 7:if(t.accountNumber){e.next=11;break}return t.error="Account number should not be empty!",t.dismissCountDown=t.dismissSecs,e.abrupt("return","");case 11:return r={amount:[{amount:"800",denom:"uomos"}],gas:"200000"},o={accountNumber:t.accountNumber,sequence:t.sequence,chainId:t.chainId},(0,p.sign)(t.wallet,t.chainId,t.address,s,r,"Sent Via https://explorer.xnode243.xyz",o).then((function(e){t.$http.broadcastTx(e).then((function(e){(0,p.setLocalTxHistory)({op:"swap",hash:e.tx_response.txhash,time:new Date}),t.$toast({component:A.Z,props:{title:"Transaction sent!",icon:"EditIcon",variant:"success"}})})).catch((function(e){t.error=e}))})).catch((function(e){t.error=e,t.dismissCountDown=t.dismissSecs})),e.abrupt("return","");case 15:case"end":return e.stop()}}),e)})))()},countDownChanged:function(t){this.dismissCountDown=t}}},K=Q,Y=(0,U.Z)(K,_,w,!1,null,"cb349ce4",null),J=Y.exports,tt={components:{BTab:v.L,BTabs:g.M,PlaceForm:J},props:{pool:{type:Object,default:function(){}},denomTrace:{type:[Array,Object],default:function(){return[]}}},data:function(){return{tabIndex:0}}},et=tt,at=(0,U.Z)(et,f,b,!1,null,"03961732",null),nt=at.exports,st={components:{BRow:r.T,BCol:o.l,BButton:i.T,BPopover:l.x,BTable:c.h,BSpinner:u.X,Place:nt,BCard:d._,FeatherIcon:h.Z},beforeRouteUpdate:function(t,e,a){var n=t.params.poolid;this.init(n),a()},data:function(){return{loading:!0,error:"",base:"",target:"",fields:["pair","price","change"],show:!1,pools:[],current:{},denomTrace:[],klineData:[],marketData:{},high24:0,low24:0}},computed:{pairs:function(){var t=this,e=this.pools.map((function(e){var a=e.poolAssets.map((function(e){return e.token.denom.startsWith("ibc/")?(0,p.formatTokenDenom)(t.denomTrace[e.token.denom]?t.denomTrace[e.token.denom].base_denom:" "):(0,p.formatTokenDenom)(e.token.denom)}));return{id:e.id,pair:a,price:t.getPrice(a),change:t.getChanges(a)}}));return e},latestPrice:function(){return this.getPrice([this.base,this.target])},changesIn24H:function(){return this.getChanges([this.base,this.target])},marketChartData:function(){if(this.marketData&&this.marketData.prices){var t=this.marketData.prices.map((function(t){return t[0]})),e=this.marketData.prices.map((function(t){return t[1]}));return{labels:t,datasets:[{label:"Price",data:e,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,pointStyle:"dash",barThickness:15}]}}return{labels:[],datasets:[]}}},created:function(){var t=this,e=this.$route.params.poolid;this.$http.osmosis.getDenomTraces().then((function(a){t.denomTrace=a,t.$http.osmosis.getPools().then((function(a){t.pools=a,t.init(e)}))}))},methods:{getPrice:function(t){var e=this.$store.state.chains.quotes[t[0]],a=this.$store.state.chains.quotes[t[1]];return e&&a?(e.usd/a.usd).toFixed(4):"-"},getChanges:function(t){var e=this.$store.state.chains.quotes[t[0]],a=this.$store.state.chains.quotes[t[1]];return e&&a?(e.usd_24h_change/a.usd_24h_change).toFixed(2):"-"},init:function(t){var e=this;this.high24=0,this.low24=0,this.current=this.pools.find((function(e){return e.id===t}))||this.pools[0],this.base=(0,m.XC)(this.current,this.denomTrace,"base"),this.target=(0,m.XC)(this.current,this.denomTrace,"target"),this.$http.osmosis.getMarketData(m.N8[this.base],m.N8[this.target]).then((function(t){e.marketData=t,e.loading=!1;var a=Date.now()-864e5;t.prices.forEach((function(t){t[0]>a&&(t[1]>e.high24&&(e.high24=t[1]),(t[1]<e.low24||0===e.low24)&&(e.low24=t[1]))}))})).catch((function(t){e.error="This feature is not avalable in your country. \n这个功能尚未对你的国家开放。".concat(t)}))}}},rt=st,ot=(0,U.Z)(rt,n,s,!1,null,"66d55951",null),it=ot.exports},50742:function(t,e,a){a.d(e,{Fq:function(){return f},F8:function(){return g},vX:function(){return h},nz:function(){return v},Do:function(){return m},_L:function(){return b},kE:function(){return _},VV:function(){return p},Bj:function(){return w},C1:function(){return d},HQ:function(){return x}});var n=a(12954),s=a(34479),r=a(41709),o=a(25505),i=(a(74916),a(77601),function(t){return t>=0}),l=function(t){var e=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&*()]).{8,}/,a=e.test(t);return a},c=function(t){var e=/^(?:3[47][0-9]{13})$/,a=e.test(t);return a},u=function(t){if(void 0===t||null===t||0===t.length)return!0;var e=/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/;return e.test(t)},d=(0,n.l7)("required",s.C1),m=(0,n.l7)("email",s.Do),p=(0,n.l7)("min",s.VV),h=((0,n.l7)("confirmed",s.GU),(0,n.l7)("regex",s.Sz),(0,n.l7)("between",s.vX)),f=(0,n.l7)("alpha",s.Fq),b=(0,n.l7)("integer",s._L),v=(0,n.l7)("digits",s.nz),g=(0,n.l7)("alpha-dash",s.E1),_=((0,n.l7)("alpha-num",s.oK),(0,n.l7)("length",s.kE)),w=((0,n.l7)("positive",{validate:i,message:"Please enter positive number!"}),(0,n.l7)("credit-card",{validate:c,message:"It is not valid credit card!"}),(0,n.l7)("password",{validate:l,message:"Your {_field_} must contain at least one uppercase, one lowercase, one special character and one digit"})),x=(0,n.l7)("url",{validate:u,message:"URL is invalid"});(0,n.NC)({en:{messages:o.s,names:{email:"Email",password:"Password"},fields:{password:{min:"{_field_} is too short, you want to get hacked?"}}},ar:{messages:r.s,names:{email:"البريد الإلكتروني",password:"كلمة السر"},fields:{password:{min:"كلمة السر قصيرة جداً سيتم اختراقك"}}}})}}]);